var im=e=>{throw TypeError(e)};var vr=(e,t,n)=>t.has(e)?im("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function cd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ud(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dd={exports:{}},$i={},fd={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),om=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),dm=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),pm=Symbol.for("react.memo"),mm=Symbol.for("react.lazy"),_c=Symbol.iterator;function gm(e){return e===null||typeof e!="object"?null:(e=_c&&e[_c]||e["@@iterator"],typeof e=="function"?e:null)}var hd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pd=Object.assign,md={};function fr(e,t,n){this.props=e,this.context=t,this.refs=md,this.updater=n||hd}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gd(){}gd.prototype=fr.prototype;function pl(e,t,n){this.props=e,this.context=t,this.refs=md,this.updater=n||hd}var ml=pl.prototype=new gd;ml.constructor=pl;pd(ml,fr.prototype);ml.isPureReactComponent=!0;var Sc=Array.isArray,xd=Object.prototype.hasOwnProperty,gl={current:null},yd={key:!0,ref:!0,__self:!0,__source:!0};function vd(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)xd.call(t,r)&&!yd.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:vs,type:e,key:i,ref:a,props:s,_owner:gl.current}}function xm(e,t){return{$$typeof:vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===vs}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nc=/\/+/g;function yo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function qs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vs:case om:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+yo(a,0):r,Sc(s)?(n="",e!=null&&(n=e.replace(Nc,"$&/")+"/"),qs(s,t,n,"",function(u){return u})):s!=null&&(xl(s)&&(s=xm(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Nc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Sc(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+yo(i,l);a+=qs(i,t,n,c,s)}else if(c=gm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+yo(i,l++),a+=qs(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ss(e,t,n){if(e==null)return e;var r=[],s=0;return qs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Me={current:null},Ws={transition:null},bm={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:gl};function bd(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Ss,forEach:function(e,t,n){Ss(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ss(e,function(){t++}),t},toArray:function(e){return Ss(e,function(t){return t})||[]},only:function(e){if(!xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=fr;$.Fragment=am;$.Profiler=cm;$.PureComponent=pl;$.StrictMode=lm;$.Suspense=hm;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bm;$.act=bd;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=gl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xd.call(t,c)&&!yd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vs,type:e.type,key:s,ref:i,props:r,_owner:a}};$.createContext=function(e){return e={$$typeof:dm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:um,_context:e},e.Consumer=e};$.createElement=vd;$.createFactory=function(e){var t=vd.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:fm,render:e}};$.isValidElement=xl;$.lazy=function(e){return{$$typeof:mm,_payload:{_status:-1,_result:e},_init:vm}};$.memo=function(e,t){return{$$typeof:pm,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};$.unstable_act=bd;$.useCallback=function(e,t){return Me.current.useCallback(e,t)};$.useContext=function(e){return Me.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Me.current.useDeferredValue(e)};$.useEffect=function(e,t){return Me.current.useEffect(e,t)};$.useId=function(){return Me.current.useId()};$.useImperativeHandle=function(e,t,n){return Me.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Me.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Me.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Me.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Me.current.useReducer(e,t,n)};$.useRef=function(e){return Me.current.useRef(e)};$.useState=function(e){return Me.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Me.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Me.current.useTransition()};$.version="18.3.1";fd.exports=$;var x=fd.exports;const wd=ud(x),wm=cd({__proto__:null,default:wd},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=x,Cm=Symbol.for("react.element"),jm=Symbol.for("react.fragment"),_m=Object.prototype.hasOwnProperty,Sm=km.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nm={key:!0,ref:!0,__self:!0,__source:!0};function kd(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)_m.call(t,r)&&!Nm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Cm,type:e,key:i,ref:a,props:s,_owner:Sm.current}}$i.Fragment=jm;$i.jsx=kd;$i.jsxs=kd;dd.exports=$i;var o=dd.exports,Yo={},Cd={exports:{}},Qe={},jd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var B=T.length;T.push(A);e:for(;0<B;){var X=B-1>>>1,ne=T[X];if(0<s(ne,A))T[X]=A,T[B]=ne,B=X;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var A=T[0],B=T.pop();if(B!==A){T[0]=B;e:for(var X=0,ne=T.length,Ct=ne>>>1;X<Ct;){var $e=2*(X+1)-1,jt=T[$e],Ve=$e+1,_t=T[Ve];if(0>s(jt,B))Ve<ne&&0>s(_t,jt)?(T[X]=_t,T[Ve]=B,X=Ve):(T[X]=jt,T[$e]=B,X=$e);else if(Ve<ne&&0>s(_t,B))T[X]=_t,T[Ve]=B,X=Ve;else break e}}return A}function s(T,A){var B=T.sortIndex-A.sortIndex;return B!==0?B:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,v=!1,b=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=T)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function w(T){if(y=!1,m(T),!b)if(n(c)!==null)b=!0,ce(_);else{var A=n(u);A!==null&&je(w,A.startTime-T)}}function _(T,A){b=!1,y&&(y=!1,g(E),E=-1),v=!0;var B=h;try{for(m(A),f=n(c);f!==null&&(!(f.expirationTime>A)||T&&!H());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var ne=X(f.expirationTime<=A);A=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),m(A)}else r(c);f=n(c)}if(f!==null)var Ct=!0;else{var $e=n(u);$e!==null&&je(w,$e.startTime-A),Ct=!1}return Ct}finally{f=null,h=B,v=!1}}var k=!1,N=null,E=-1,D=5,M=-1;function H(){return!(e.unstable_now()-M<D)}function Q(){if(N!==null){var T=e.unstable_now();M=T;var A=!0;try{A=N(!0,T)}finally{A?S():(k=!1,N=null)}}else k=!1}var S;if(typeof p=="function")S=function(){p(Q)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=Q,S=function(){J.postMessage(null)}}else S=function(){C(Q,0)};function ce(T){N=T,k||(k=!0,S())}function je(T,A){E=C(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,ce(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var B=h;h=A;try{return T()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var B=h;h=T;try{return A()}finally{h=B}},e.unstable_scheduleCallback=function(T,A,B){var X=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?X+B:X):B=X,T){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=B+ne,T={id:d++,callback:A,priorityLevel:T,startTime:B,expirationTime:ne,sortIndex:-1},B>X?(T.sortIndex=B,t(u,T),n(c)===null&&T===n(u)&&(y?(g(E),E=-1):y=!0,je(w,B-X))):(T.sortIndex=ne,t(c,T),b||v||(b=!0,ce(_))),T},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(T){var A=h;return function(){var B=h;h=A;try{return T.apply(this,arguments)}finally{h=B}}}})(_d);jd.exports=_d;var Em=jd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=x,Ke=Em;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sd=new Set,Yr={};function Tn(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(Yr[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,Tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},Rc={};function Pm(e){return Jo.call(Rc,e)?!0:Jo.call(Ec,e)?!1:Tm.test(e)?Rc[e]=!0:(Ec[e]=!0,!1)}function Lm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Om(e,t,n,r){if(t===null||typeof t>"u"||Lm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var yl=/[\-:]([a-z])/g;function vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yl,vl);Ce[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yl,vl);Ce[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yl,vl);Ce[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function bl(e,t,n,r){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Om(t,n,s,r)&&(n=null),r||s===null?Pm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dt=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),Xo=Symbol.for("react.profiler"),Nd=Symbol.for("react.provider"),Ed=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),Zo=Symbol.for("react.suspense"),ea=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function br(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,vo;function Pr(e){if(vo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vo=t&&t[1]||""}return`
`+vo+e}var bo=!1;function wo(e,t){if(!e||bo)return"";bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pr(e):""}function Mm(e){switch(e.tag){case 5:return Pr(e.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 2:case 15:return e=wo(e.type,!1),e;case 11:return e=wo(e.type.render,!1),e;case 1:return e=wo(e.type,!0),e;default:return""}}function ta(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case zn:return"Portal";case Xo:return"Profiler";case wl:return"StrictMode";case Zo:return"Suspense";case ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ed:return(e.displayName||"Context")+".Consumer";case Nd:return(e._context.displayName||"Context")+".Provider";case kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cl:return t=e.displayName||null,t!==null?t:ta(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return ta(e(t))}catch{}}return null}function Im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ta(t);case 8:return t===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dm(e){var t=Td(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Es(e){e._valueTracker||(e._valueTracker=Dm(e))}function Pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Td(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function na(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ld(e,t){t=t.checked,t!=null&&bl(e,"checked",t,!1)}function ra(e,t){Ld(e,t);var n=ln(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sa(e,t.type,n):t.hasOwnProperty("defaultValue")&&sa(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sa(e,t,n){(t!=="number"||fi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lr=Array.isArray;function Yn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ia(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Lr(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ln(n)}}function Od(e,t){var n=ln(t.value),r=ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Md(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Md(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rs,Id=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(e){Am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ar[t]=Ar[e]})});function Dd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ar.hasOwnProperty(e)&&Ar[e]?(""+t).trim():t+"px"}function Ad(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Dd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var zm=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(e,t){if(t){if(zm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function la(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Jn=null,Xn=null;function Ic(e){if(e=ks(e)){if(typeof ua!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Ki(t),ua(e.stateNode,e.type,t))}}function zd(e){Jn?Xn?Xn.push(e):Xn=[e]:Jn=e}function Fd(){if(Jn){var e=Jn,t=Xn;if(Xn=Jn=null,Ic(e),t)for(e=0;e<t.length;e++)Ic(t[e])}}function Bd(e,t){return e(t)}function Ud(){}var ko=!1;function $d(e,t,n){if(ko)return e(t,n);ko=!0;try{return Bd(e,t,n)}finally{ko=!1,(Jn!==null||Xn!==null)&&(Ud(),Fd())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ki(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var da=!1;if(Lt)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){da=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{da=!1}function Fm(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zr=!1,hi=null,pi=!1,fa=null,Bm={onError:function(e){zr=!0,hi=e}};function Um(e,t,n,r,s,i,a,l,c){zr=!1,hi=null,Fm.apply(Bm,arguments)}function $m(e,t,n,r,s,i,a,l,c){if(Um.apply(this,arguments),zr){if(zr){var u=hi;zr=!1,hi=null}else throw Error(R(198));pi||(pi=!0,fa=u)}}function Pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dc(e){if(Pn(e)!==e)throw Error(R(188))}function Vm(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Dc(s),e;if(i===r)return Dc(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Hd(e){return e=Vm(e),e!==null?qd(e):null}function qd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qd(e);if(t!==null)return t;e=e.sibling}return null}var Wd=Ke.unstable_scheduleCallback,Ac=Ke.unstable_cancelCallback,Hm=Ke.unstable_shouldYield,qm=Ke.unstable_requestPaint,de=Ke.unstable_now,Wm=Ke.unstable_getCurrentPriorityLevel,_l=Ke.unstable_ImmediatePriority,Kd=Ke.unstable_UserBlockingPriority,mi=Ke.unstable_NormalPriority,Km=Ke.unstable_LowPriority,Qd=Ke.unstable_IdlePriority,Vi=null,yt=null;function Qm(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Jm,Gm=Math.log,Ym=Math.LN2;function Jm(e){return e>>>=0,e===0?32:31-(Gm(e)/Ym|0)|0}var Ts=64,Ps=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Or(l):(i&=a,i!==0&&(r=Or(i)))}else a=n&~s,a!==0?r=Or(a):i!==0&&(r=Or(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),s=1<<n,r|=e[n],t&=~s;return r}function Xm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ut(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Xm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ha(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gd(){var e=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),e}function Co(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function e0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ut(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Sl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var G=0;function Yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jd,Nl,Xd,Zd,ef,pa=!1,Ls=[],Yt=null,Jt=null,Xt=null,Zr=new Map,es=new Map,Ht=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(e,t){switch(e){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function kr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&Nl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function n0(e,t,n,r,s){switch(t){case"focusin":return Yt=kr(Yt,e,t,n,r,s),!0;case"dragenter":return Jt=kr(Jt,e,t,n,r,s),!0;case"mouseover":return Xt=kr(Xt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zr.set(i,kr(Zr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,es.set(i,kr(es.get(i)||null,e,t,n,r,s)),!0}return!1}function tf(e){var t=vn(e.target);if(t!==null){var n=Pn(t);if(n!==null){if(t=n.tag,t===13){if(t=Vd(n),t!==null){e.blockedOn=t,ef(e.priority,function(){Xd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ca=r,n.target.dispatchEvent(r),ca=null}else return t=ks(n),t!==null&&Nl(t),e.blockedOn=n,!1;t.shift()}return!0}function Fc(e,t,n){Ks(e)&&n.delete(t)}function r0(){pa=!1,Yt!==null&&Ks(Yt)&&(Yt=null),Jt!==null&&Ks(Jt)&&(Jt=null),Xt!==null&&Ks(Xt)&&(Xt=null),Zr.forEach(Fc),es.forEach(Fc)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,pa||(pa=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,r0)))}function ts(e){function t(s){return Cr(s,e)}if(0<Ls.length){Cr(Ls[0],e);for(var n=1;n<Ls.length;n++){var r=Ls[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yt!==null&&Cr(Yt,e),Jt!==null&&Cr(Jt,e),Xt!==null&&Cr(Xt,e),Zr.forEach(t),es.forEach(t),n=0;n<Ht.length;n++)r=Ht[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)tf(n),n.blockedOn===null&&Ht.shift()}var Zn=Dt.ReactCurrentBatchConfig,xi=!0;function s0(e,t,n,r){var s=G,i=Zn.transition;Zn.transition=null;try{G=1,El(e,t,n,r)}finally{G=s,Zn.transition=i}}function i0(e,t,n,r){var s=G,i=Zn.transition;Zn.transition=null;try{G=4,El(e,t,n,r)}finally{G=s,Zn.transition=i}}function El(e,t,n,r){if(xi){var s=ma(e,t,n,r);if(s===null)Oo(e,t,r,yi,n),zc(e,r);else if(n0(s,e,t,n,r))r.stopPropagation();else if(zc(e,r),t&4&&-1<t0.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&Jd(i),i=ma(e,t,n,r),i===null&&Oo(e,t,r,yi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Oo(e,t,r,null,n)}}var yi=null;function ma(e,t,n,r){if(yi=null,e=jl(r),e=vn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yi=e,null}function nf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wm()){case _l:return 1;case Kd:return 4;case mi:case Km:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var Wt=null,Rl=null,Qs=null;function rf(){if(Qs)return Qs;var e,t=Rl,n=t.length,r,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Qs=s.slice(e,1<r?1-r:void 0)}function Gs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function Bc(){return!1}function Ge(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Os:Bc,this.isPropagationStopped=Bc,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=Ge(hr),ws=le({},hr,{view:0,detail:0}),o0=Ge(ws),jo,_o,jr,Hi=le({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jr&&(jr&&e.type==="mousemove"?(jo=e.screenX-jr.screenX,_o=e.screenY-jr.screenY):_o=jo=0,jr=e),jo)},movementY:function(e){return"movementY"in e?e.movementY:_o}}),Uc=Ge(Hi),a0=le({},Hi,{dataTransfer:0}),l0=Ge(a0),c0=le({},ws,{relatedTarget:0}),So=Ge(c0),u0=le({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),d0=Ge(u0),f0=le({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h0=Ge(f0),p0=le({},hr,{data:0}),$c=Ge(p0),m0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x0[e])?!!t[e]:!1}function Pl(){return y0}var v0=le({},ws,{key:function(e){if(e.key){var t=m0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(e){return e.type==="keypress"?Gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b0=Ge(v0),w0=le({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=Ge(w0),k0=le({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),C0=Ge(k0),j0=le({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_0=Ge(j0),S0=le({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N0=Ge(S0),E0=[9,13,27,32],Ll=Lt&&"CompositionEvent"in window,Fr=null;Lt&&"documentMode"in document&&(Fr=document.documentMode);var R0=Lt&&"TextEvent"in window&&!Fr,sf=Lt&&(!Ll||Fr&&8<Fr&&11>=Fr),Hc=" ",qc=!1;function of(e,t){switch(e){case"keyup":return E0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function T0(e,t){switch(e){case"compositionend":return af(t);case"keypress":return t.which!==32?null:(qc=!0,Hc);case"textInput":return e=t.data,e===Hc&&qc?null:e;default:return null}}function P0(e,t){if(Bn)return e==="compositionend"||!Ll&&of(e,t)?(e=rf(),Qs=Rl=Wt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sf&&t.locale!=="ko"?null:t.data;default:return null}}var L0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!L0[e.type]:t==="textarea"}function lf(e,t,n,r){zd(r),t=vi(t,"onChange"),0<t.length&&(n=new Tl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Br=null,ns=null;function O0(e){vf(e,0)}function qi(e){var t=Vn(e);if(Pd(t))return e}function M0(e,t){if(e==="change")return t}var cf=!1;if(Lt){var No;if(Lt){var Eo="oninput"in document;if(!Eo){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Eo=typeof Kc.oninput=="function"}No=Eo}else No=!1;cf=No&&(!document.documentMode||9<document.documentMode)}function Qc(){Br&&(Br.detachEvent("onpropertychange",uf),ns=Br=null)}function uf(e){if(e.propertyName==="value"&&qi(ns)){var t=[];lf(t,ns,e,jl(e)),$d(O0,t)}}function I0(e,t,n){e==="focusin"?(Qc(),Br=t,ns=n,Br.attachEvent("onpropertychange",uf)):e==="focusout"&&Qc()}function D0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(ns)}function A0(e,t){if(e==="click")return qi(t)}function z0(e,t){if(e==="input"||e==="change")return qi(t)}function F0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:F0;function rs(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jo.call(t,s)||!ft(e[s],t[s]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var n=Gc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gc(n)}}function df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fi(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B0(e){var t=ff(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&df(n.ownerDocument.documentElement,n)){if(r!==null&&Ol(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Yc(n,i);var a=Yc(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U0=Lt&&"documentMode"in document&&11>=document.documentMode,Un=null,ga=null,Ur=null,xa=!1;function Jc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xa||Un==null||Un!==fi(r)||(r=Un,"selectionStart"in r&&Ol(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ur&&rs(Ur,r)||(Ur=r,r=vi(ga,"onSelect"),0<r.length&&(t=new Tl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Un)))}function Ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},Ro={},hf={};Lt&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Wi(e){if(Ro[e])return Ro[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hf)return Ro[e]=t[n];return e}var pf=Wi("animationend"),mf=Wi("animationiteration"),gf=Wi("animationstart"),xf=Wi("transitionend"),yf=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){yf.set(e,t),Tn(t,[e])}for(var To=0;To<Xc.length;To++){var Po=Xc[To],$0=Po.toLowerCase(),V0=Po[0].toUpperCase()+Po.slice(1);un($0,"on"+V0)}un(pf,"onAnimationEnd");un(mf,"onAnimationIteration");un(gf,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(xf,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Zc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$m(r,t,void 0,e),e.currentTarget=null}function vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Zc(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Zc(s,l,u),i=c}}}if(pi)throw e=fa,pi=!1,fa=null,e}function ee(e,t){var n=t[ka];n===void 0&&(n=t[ka]=new Set);var r=e+"__bubble";n.has(r)||(bf(t,e,2,!1),n.add(r))}function Lo(e,t,n){var r=0;t&&(r|=4),bf(n,e,r,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function ss(e){if(!e[Is]){e[Is]=!0,Sd.forEach(function(n){n!=="selectionchange"&&(H0.has(n)||Lo(n,!1,e),Lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Lo("selectionchange",!1,t))}}function bf(e,t,n,r){switch(nf(t)){case 1:var s=s0;break;case 4:s=i0;break;default:s=El}n=s.bind(null,t,n,e),s=void 0,!da||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Oo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=vn(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}$d(function(){var u=i,d=jl(n),f=[];e:{var h=yf.get(e);if(h!==void 0){var v=Tl,b=e;switch(e){case"keypress":if(Gs(n)===0)break e;case"keydown":case"keyup":v=b0;break;case"focusin":b="focus",v=So;break;case"focusout":b="blur",v=So;break;case"beforeblur":case"afterblur":v=So;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=C0;break;case pf:case mf:case gf:v=d0;break;case xf:v=_0;break;case"scroll":v=o0;break;case"wheel":v=N0;break;case"copy":case"cut":case"paste":v=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Vc}var y=(t&4)!==0,C=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=Xr(p,g),w!=null&&y.push(is(p,w,m)))),C)break;p=p.return}0<y.length&&(h=new v(h,b,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==ca&&(b=n.relatedTarget||n.fromElement)&&(vn(b)||b[Ot]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=u,b=b?vn(b):null,b!==null&&(C=Pn(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(y=Uc,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Vc,w="onPointerLeave",g="onPointerEnter",p="pointer"),C=v==null?h:Vn(v),m=b==null?h:Vn(b),h=new y(w,p+"leave",v,n,d),h.target=C,h.relatedTarget=m,w=null,vn(d)===u&&(y=new y(g,p+"enter",b,n,d),y.target=m,y.relatedTarget=C,w=y),C=w,v&&b)t:{for(y=v,g=b,p=0,m=y;m;m=An(m))p++;for(m=0,w=g;w;w=An(w))m++;for(;0<p-m;)y=An(y),p--;for(;0<m-p;)g=An(g),m--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=An(y),g=An(g)}y=null}else y=null;v!==null&&eu(f,h,v,y,!1),b!==null&&C!==null&&eu(f,C,b,y,!0)}}e:{if(h=u?Vn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var _=M0;else if(Wc(h))if(cf)_=z0;else{_=D0;var k=I0}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=A0);if(_&&(_=_(e,u))){lf(f,_,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&sa(h,"number",h.value)}switch(k=u?Vn(u):window,e){case"focusin":(Wc(k)||k.contentEditable==="true")&&(Un=k,ga=u,Ur=null);break;case"focusout":Ur=ga=Un=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,Jc(f,n,d);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":Jc(f,n,d)}var N;if(Ll)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Bn?of(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(sf&&n.locale!=="ko"&&(Bn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Bn&&(N=rf()):(Wt=d,Rl="value"in Wt?Wt.value:Wt.textContent,Bn=!0)),k=vi(u,E),0<k.length&&(E=new $c(E,e,null,n,d),f.push({event:E,listeners:k}),N?E.data=N:(N=af(n),N!==null&&(E.data=N)))),(N=R0?T0(e,n):P0(e,n))&&(u=vi(u,"onBeforeInput"),0<u.length&&(d=new $c("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}vf(f,t)})}function is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xr(e,n),i!=null&&r.unshift(is(e,i,s)),i=Xr(e,t),i!=null&&r.push(is(e,i,s))),e=e.return}return r}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eu(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Xr(n,i),c!=null&&a.unshift(is(n,c,l))):s||(c=Xr(n,i),c!=null&&a.push(is(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var q0=/\r\n?/g,W0=/\u0000|\uFFFD/g;function tu(e){return(typeof e=="string"?e:""+e).replace(q0,`
`).replace(W0,"")}function Ds(e,t,n){if(t=tu(t),tu(e)!==t&&n)throw Error(R(425))}function bi(){}var ya=null,va=null;function ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,K0=typeof clearTimeout=="function"?clearTimeout:void 0,nu=typeof Promise=="function"?Promise:void 0,Q0=typeof queueMicrotask=="function"?queueMicrotask:typeof nu<"u"?function(e){return nu.resolve(null).then(e).catch(G0)}:wa;function G0(e){setTimeout(function(){throw e})}function Mo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ts(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),xt="__reactFiber$"+pr,os="__reactProps$"+pr,Ot="__reactContainer$"+pr,ka="__reactEvents$"+pr,Y0="__reactListeners$"+pr,J0="__reactHandles$"+pr;function vn(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ru(e);e!==null;){if(n=e[xt])return n;e=ru(e)}return t}e=n,n=e.parentNode}return null}function ks(e){return e=e[xt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Ki(e){return e[os]||null}var Ca=[],Hn=-1;function dn(e){return{current:e}}function te(e){0>Hn||(e.current=Ca[Hn],Ca[Hn]=null,Hn--)}function Y(e,t){Hn++,Ca[Hn]=e.current,e.current=t}var cn={},Re=dn(cn),Fe=dn(!1),jn=cn;function ir(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Be(e){return e=e.childContextTypes,e!=null}function wi(){te(Fe),te(Re)}function su(e,t,n){if(Re.current!==cn)throw Error(R(168));Y(Re,t),Y(Fe,n)}function wf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,Im(e)||"Unknown",s));return le({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,jn=Re.current,Y(Re,e),Y(Fe,Fe.current),!0}function iu(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=wf(e,t,jn),r.__reactInternalMemoizedMergedChildContext=e,te(Fe),te(Re),Y(Re,e)):te(Fe),Y(Fe,n)}var Et=null,Qi=!1,Io=!1;function kf(e){Et===null?Et=[e]:Et.push(e)}function X0(e){Qi=!0,kf(e)}function fn(){if(!Io&&Et!==null){Io=!0;var e=0,t=G;try{var n=Et;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Et=null,Qi=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),Wd(_l,fn),s}finally{G=t,Io=!1}}return null}var qn=[],Wn=0,Ci=null,ji=0,Ye=[],Je=0,_n=null,Rt=1,Tt="";function gn(e,t){qn[Wn++]=ji,qn[Wn++]=Ci,Ci=e,ji=t}function Cf(e,t,n){Ye[Je++]=Rt,Ye[Je++]=Tt,Ye[Je++]=_n,_n=e;var r=Rt;e=Tt;var s=32-ut(r)-1;r&=~(1<<s),n+=1;var i=32-ut(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Rt=1<<32-ut(t)+s|n<<s|r,Tt=i+e}else Rt=1<<i|n<<s|r,Tt=e}function Ml(e){e.return!==null&&(gn(e,1),Cf(e,1,0))}function Il(e){for(;e===Ci;)Ci=qn[--Wn],qn[Wn]=null,ji=qn[--Wn],qn[Wn]=null;for(;e===_n;)_n=Ye[--Je],Ye[Je]=null,Tt=Ye[--Je],Ye[Je]=null,Rt=Ye[--Je],Ye[Je]=null}var We=null,qe=null,re=!1,ct=null;function jf(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ou(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,qe=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Rt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,qe=null,!0):!1;default:return!1}}function ja(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(re){var t=qe;if(t){var n=t;if(!ou(e,t)){if(ja(e))throw Error(R(418));t=Zt(n.nextSibling);var r=We;t&&ou(e,t)?jf(r,n):(e.flags=e.flags&-4097|2,re=!1,We=e)}}else{if(ja(e))throw Error(R(418));e.flags=e.flags&-4097|2,re=!1,We=e}}}function au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function As(e){if(e!==We)return!1;if(!re)return au(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ba(e.type,e.memoizedProps)),t&&(t=qe)){if(ja(e))throw _f(),Error(R(418));for(;t;)jf(e,t),t=Zt(t.nextSibling)}if(au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=Zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=We?Zt(e.stateNode.nextSibling):null;return!0}function _f(){for(var e=qe;e;)e=Zt(e.nextSibling)}function or(){qe=We=null,re=!1}function Dl(e){ct===null?ct=[e]:ct.push(e)}var Z0=Dt.ReactCurrentBatchConfig;function _r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lu(e){var t=e._init;return t(e._payload)}function Sf(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=rn(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,w){return p===null||p.tag!==6?(p=$o(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function c(g,p,m,w){var _=m.type;return _===Fn?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$t&&lu(_)===p.type)?(w=s(p,m.props),w.ref=_r(g,p,m),w.return=g,w):(w=ni(m.type,m.key,m.props,null,g.mode,w),w.ref=_r(g,p,m),w.return=g,w)}function u(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Vo(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,_){return p===null||p.tag!==7?(p=Cn(m,g.mode,w,_),p.return=g,p):(p=s(p,m),p.return=g,p)}function f(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$o(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ns:return m=ni(p.type,p.key,p.props,null,g.mode,m),m.ref=_r(g,null,p),m.return=g,m;case zn:return p=Vo(p,g.mode,m),p.return=g,p;case $t:var w=p._init;return f(g,w(p._payload),m)}if(Lr(p)||br(p))return p=Cn(p,g.mode,m,null),p.return=g,p;zs(g,p)}return null}function h(g,p,m,w){var _=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:l(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:return m.key===_?c(g,p,m,w):null;case zn:return m.key===_?u(g,p,m,w):null;case $t:return _=m._init,h(g,p,_(m._payload),w)}if(Lr(m)||br(m))return _!==null?null:d(g,p,m,w,null);zs(g,m)}return null}function v(g,p,m,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,l(p,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ns:return g=g.get(w.key===null?m:w.key)||null,c(p,g,w,_);case zn:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,_);case $t:var k=w._init;return v(g,p,m,k(w._payload),_)}if(Lr(w)||br(w))return g=g.get(m)||null,d(p,g,w,_,null);zs(p,w)}return null}function b(g,p,m,w){for(var _=null,k=null,N=p,E=p=0,D=null;N!==null&&E<m.length;E++){N.index>E?(D=N,N=null):D=N.sibling;var M=h(g,N,m[E],w);if(M===null){N===null&&(N=D);break}e&&N&&M.alternate===null&&t(g,N),p=i(M,p,E),k===null?_=M:k.sibling=M,k=M,N=D}if(E===m.length)return n(g,N),re&&gn(g,E),_;if(N===null){for(;E<m.length;E++)N=f(g,m[E],w),N!==null&&(p=i(N,p,E),k===null?_=N:k.sibling=N,k=N);return re&&gn(g,E),_}for(N=r(g,N);E<m.length;E++)D=v(N,g,E,m[E],w),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?E:D.key),p=i(D,p,E),k===null?_=D:k.sibling=D,k=D);return e&&N.forEach(function(H){return t(g,H)}),re&&gn(g,E),_}function y(g,p,m,w){var _=br(m);if(typeof _!="function")throw Error(R(150));if(m=_.call(m),m==null)throw Error(R(151));for(var k=_=null,N=p,E=p=0,D=null,M=m.next();N!==null&&!M.done;E++,M=m.next()){N.index>E?(D=N,N=null):D=N.sibling;var H=h(g,N,M.value,w);if(H===null){N===null&&(N=D);break}e&&N&&H.alternate===null&&t(g,N),p=i(H,p,E),k===null?_=H:k.sibling=H,k=H,N=D}if(M.done)return n(g,N),re&&gn(g,E),_;if(N===null){for(;!M.done;E++,M=m.next())M=f(g,M.value,w),M!==null&&(p=i(M,p,E),k===null?_=M:k.sibling=M,k=M);return re&&gn(g,E),_}for(N=r(g,N);!M.done;E++,M=m.next())M=v(N,g,E,M.value,w),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?E:M.key),p=i(M,p,E),k===null?_=M:k.sibling=M,k=M);return e&&N.forEach(function(Q){return t(g,Q)}),re&&gn(g,E),_}function C(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===Fn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:e:{for(var _=m.key,k=p;k!==null;){if(k.key===_){if(_=m.type,_===Fn){if(k.tag===7){n(g,k.sibling),p=s(k,m.props.children),p.return=g,g=p;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$t&&lu(_)===k.type){n(g,k.sibling),p=s(k,m.props),p.ref=_r(g,k,m),p.return=g,g=p;break e}n(g,k);break}else t(g,k);k=k.sibling}m.type===Fn?(p=Cn(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=ni(m.type,m.key,m.props,null,g.mode,w),w.ref=_r(g,p,m),w.return=g,g=w)}return a(g);case zn:e:{for(k=m.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Vo(m,g.mode,w),p.return=g,g=p}return a(g);case $t:return k=m._init,C(g,p,k(m._payload),w)}if(Lr(m))return b(g,p,m,w);if(br(m))return y(g,p,m,w);zs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=$o(m,g.mode,w),p.return=g,g=p),a(g)):n(g,p)}return C}var ar=Sf(!0),Nf=Sf(!1),_i=dn(null),Si=null,Kn=null,Al=null;function zl(){Al=Kn=Si=null}function Fl(e){var t=_i.current;te(_i),e._currentValue=t}function Sa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){Si=e,Al=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Al!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(Si===null)throw Error(R(308));Kn=e,Si.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var bn=null;function Bl(e){bn===null?bn=[e]:bn.push(e)}function Ef(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Bl(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function Ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mt(e,n)}return s=r.interleaved,s===null?(t.next=t,Bl(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mt(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sl(e,n)}}function cu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ni(e,t,n,r){var s=e.updateQueue;Vt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,v=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(h=t,v=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(v,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,h=typeof b=="function"?b.call(v,f,h):b,h==null)break e;f=le({},f,h);break e;case 2:Vt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Nn|=a,e.lanes=a,e.memoizedState=f}}function uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Cs={},vt=dn(Cs),as=dn(Cs),ls=dn(Cs);function wn(e){if(e===Cs)throw Error(R(174));return e}function $l(e,t){switch(Y(ls,t),Y(as,e),Y(vt,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oa(t,e)}te(vt),Y(vt,t)}function lr(){te(vt),te(as),te(ls)}function Tf(e){wn(ls.current);var t=wn(vt.current),n=oa(t,e.type);t!==n&&(Y(as,e),Y(vt,n))}function Vl(e){as.current===e&&(te(vt),te(as))}var se=dn(0);function Ei(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Do=[];function Hl(){for(var e=0;e<Do.length;e++)Do[e]._workInProgressVersionPrimary=null;Do.length=0}var Js=Dt.ReactCurrentDispatcher,Ao=Dt.ReactCurrentBatchConfig,Sn=0,oe=null,ge=null,ve=null,Ri=!1,$r=!1,cs=0,eg=0;function _e(){throw Error(R(321))}function ql(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Wl(e,t,n,r,s,i){if(Sn=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=e===null||e.memoizedState===null?sg:ig,e=n(r,s),$r){i=0;do{if($r=!1,cs=0,25<=i)throw Error(R(301));i+=1,ve=ge=null,t.updateQueue=null,Js.current=og,e=n(r,s)}while($r)}if(Js.current=Ti,t=ge!==null&&ge.next!==null,Sn=0,ve=ge=oe=null,Ri=!1,t)throw Error(R(300));return e}function Kl(){var e=cs!==0;return cs=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?oe.memoizedState=ve=e:ve=ve.next=e,ve}function rt(){if(ge===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=ve===null?oe.memoizedState:ve.next;if(t!==null)ve=t,ge=e;else{if(e===null)throw Error(R(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ve===null?oe.memoizedState=ve=e:ve=ve.next=e}return ve}function us(e,t){return typeof t=="function"?t(e):t}function zo(e){var t=rt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Sn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,oe.lanes|=d,Nn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ft(r,t.memoizedState)||(ze=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,Nn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fo(e){var t=rt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ft(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Pf(){}function Lf(e,t){var n=oe,r=rt(),s=t(),i=!ft(r.memoizedState,s);if(i&&(r.memoizedState=s,ze=!0),r=r.queue,Ql(If.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,ds(9,Mf.bind(null,n,r,s,t),void 0,null),be===null)throw Error(R(349));Sn&30||Of(n,t,s)}return s}function Of(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mf(e,t,n,r){t.value=n,t.getSnapshot=r,Df(t)&&Af(e)}function If(e,t,n){return n(function(){Df(t)&&Af(e)})}function Df(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Af(e){var t=Mt(e,1);t!==null&&dt(t,e,1,-1)}function du(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},t.queue=e,e=e.dispatch=rg.bind(null,oe,e),[t.memoizedState,e]}function ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zf(){return rt().memoizedState}function Xs(e,t,n,r){var s=mt();oe.flags|=e,s.memoizedState=ds(1|t,n,void 0,r===void 0?null:r)}function Gi(e,t,n,r){var s=rt();r=r===void 0?null:r;var i=void 0;if(ge!==null){var a=ge.memoizedState;if(i=a.destroy,r!==null&&ql(r,a.deps)){s.memoizedState=ds(t,n,i,r);return}}oe.flags|=e,s.memoizedState=ds(1|t,n,i,r)}function fu(e,t){return Xs(8390656,8,e,t)}function Ql(e,t){return Gi(2048,8,e,t)}function Ff(e,t){return Gi(4,2,e,t)}function Bf(e,t){return Gi(4,4,e,t)}function Uf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $f(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,Uf.bind(null,t,e),n)}function Gl(){}function Vf(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ql(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hf(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ql(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qf(e,t,n){return Sn&21?(ft(n,t)||(n=Gd(),oe.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function tg(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=Ao.transition;Ao.transition={};try{e(!1),t()}finally{G=n,Ao.transition=r}}function Wf(){return rt().memoizedState}function ng(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kf(e))Qf(t,n);else if(n=Ef(e,t,n,r),n!==null){var s=Le();dt(n,e,r,s),Gf(n,t,r)}}function rg(e,t,n){var r=nn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kf(e))Qf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ft(l,a)){var c=t.interleaved;c===null?(s.next=s,Bl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Ef(e,t,s,r),n!==null&&(s=Le(),dt(n,e,r,s),Gf(n,t,r))}}function Kf(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Qf(e,t){$r=Ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sl(e,n)}}var Ti={readContext:nt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},sg={readContext:nt,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:fu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xs(4194308,4,Uf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var n=mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ng.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:du,useDebugValue:Gl,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=du(!1),t=e[0];return e=tg.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=mt();if(re){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),be===null)throw Error(R(349));Sn&30||Of(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,fu(If.bind(null,r,i,e),[e]),r.flags|=2048,ds(9,Mf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=mt(),t=be.identifierPrefix;if(re){var n=Tt,r=Rt;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ig={readContext:nt,useCallback:Vf,useContext:nt,useEffect:Ql,useImperativeHandle:$f,useInsertionEffect:Ff,useLayoutEffect:Bf,useMemo:Hf,useReducer:zo,useRef:zf,useState:function(){return zo(us)},useDebugValue:Gl,useDeferredValue:function(e){var t=rt();return qf(t,ge.memoizedState,e)},useTransition:function(){var e=zo(us)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Pf,useSyncExternalStore:Lf,useId:Wf,unstable_isNewReconciler:!1},og={readContext:nt,useCallback:Vf,useContext:nt,useEffect:Ql,useImperativeHandle:$f,useInsertionEffect:Ff,useLayoutEffect:Bf,useMemo:Hf,useReducer:Fo,useRef:zf,useState:function(){return Fo(us)},useDebugValue:Gl,useDeferredValue:function(e){var t=rt();return ge===null?t.memoizedState=e:qf(t,ge.memoizedState,e)},useTransition:function(){var e=Fo(us)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Pf,useSyncExternalStore:Lf,useId:Wf,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Na(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yi={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),s=nn(e),i=Pt(r,s);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,s),t!==null&&(dt(t,e,s,r),Ys(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),s=nn(e),i=Pt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,s),t!==null&&(dt(t,e,s,r),Ys(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=nn(e),s=Pt(n,r);s.tag=2,t!=null&&(s.callback=t),t=en(e,s,r),t!==null&&(dt(t,e,r,n),Ys(t,e,r))}};function hu(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!rs(n,r)||!rs(s,i):!0}function Yf(e,t,n){var r=!1,s=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=Be(t)?jn:Re.current,r=t.contextTypes,i=(r=r!=null)?ir(e,s):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function pu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ul(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=Be(t)?jn:Re.current,s.context=ir(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Na(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yi.enqueueReplaceState(s,s.state,null),Ni(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cr(e,t){try{var n="",r=t;do n+=Mm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Bo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ra(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ag=typeof WeakMap=="function"?WeakMap:Map;function Jf(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Li||(Li=!0,Fa=r),Ra(e,t)},n}function Xf(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ra(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ra(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function mu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ag;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wg.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e)}var lg=Dt.ReactCurrentOwner,ze=!1;function Pe(e,t,n,r){t.child=e===null?Nf(t,null,n,r):ar(t,e.child,n,r)}function yu(e,t,n,r,s){n=n.render;var i=t.ref;return er(t,s),r=Wl(e,t,n,r,i,s),n=Kl(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(re&&n&&Ml(t),t.flags|=1,Pe(e,t,r,s),t.child)}function vu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!rc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Zf(e,t,i,r,s)):(e=ni(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:rs,n(a,r)&&e.ref===t.ref)return It(e,t,s)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(rs(i,r)&&e.ref===t.ref)if(ze=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,It(e,t,s)}return Ta(e,t,n,r,s)}function eh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Gn,He),He|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Gn,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(Gn,He),He|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Y(Gn,He),He|=r;return Pe(e,t,s,n),t.child}function th(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,s){var i=Be(n)?jn:Re.current;return i=ir(t,i),er(t,s),n=Wl(e,t,n,r,i,s),r=Kl(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(re&&r&&Ml(t),t.flags|=1,Pe(e,t,n,s),t.child)}function bu(e,t,n,r,s){if(Be(n)){var i=!0;ki(t)}else i=!1;if(er(t,s),t.stateNode===null)Zs(e,t),Yf(t,n,r),Ea(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=Be(n)?jn:Re.current,u=ir(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&pu(t,a,r,u),Vt=!1;var h=t.memoizedState;a.state=h,Ni(t,r,a,s),c=t.memoizedState,l!==r||h!==c||Fe.current||Vt?(typeof d=="function"&&(Na(t,n,d,r),c=t.memoizedState),(l=Vt||hu(t,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Rf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ot(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=Be(n)?jn:Re.current,c=ir(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&pu(t,a,r,c),Vt=!1,h=t.memoizedState,a.state=h,Ni(t,r,a,s);var b=t.memoizedState;l!==f||h!==b||Fe.current||Vt?(typeof v=="function"&&(Na(t,n,v,r),b=t.memoizedState),(u=Vt||hu(t,n,u,r,h,b,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,i,s)}function Pa(e,t,n,r,s,i){th(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&iu(t,n,!1),It(e,t,i);r=t.stateNode,lg.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ar(t,e.child,null,i),t.child=ar(t,null,l,i)):Pe(e,t,l,i),t.memoizedState=r.state,s&&iu(t,n,!0),t.child}function nh(e){var t=e.stateNode;t.pendingContext?su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&su(e,t.context,!1),$l(e,t.containerInfo)}function wu(e,t,n,r,s){return or(),Dl(s),t.flags|=256,Pe(e,t,n,r),t.child}var La={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function rh(e,t,n){var r=t.pendingProps,s=se.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(se,s&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Zi(a,r,0,null),e=Cn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oa(n),t.memoizedState=La,e):Yl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cg(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=rn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=rn(l,i):(i=Cn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Oa(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=La,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yl(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,n,r){return r!==null&&Dl(r),ar(t,e.child,null,n),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cg(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Bo(Error(R(422))),Fs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Zi({mode:"visible",children:r.children},s,0,null),i=Cn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ar(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=La,i);if(!(t.mode&1))return Fs(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(R(419)),r=Bo(i,r,void 0),Fs(e,t,a,r)}if(l=(a&e.childLanes)!==0,ze||l){if(r=be,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mt(e,s),dt(r,e,s,-1))}return nc(),r=Bo(Error(R(421))),Fs(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qe=Zt(s.nextSibling),We=t,re=!0,ct=null,e!==null&&(Ye[Je++]=Rt,Ye[Je++]=Tt,Ye[Je++]=_n,Rt=e.id,Tt=e.overflow,_n=t),t=Yl(t,r.children),t.flags|=4096,t)}function ku(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sa(e.return,t,n)}function Uo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Pe(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ku(e,n,t);else if(e.tag===19)ku(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ei(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Uo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ei(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Uo(t,!0,n,null,i);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ug(e,t,n){switch(t.tag){case 3:nh(t),or();break;case 5:Tf(t);break;case 1:Be(t.type)&&ki(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Y(_i,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?rh(e,t,n):(Y(se,se.current&1),e=It(e,t,n),e!==null?e.sibling:null);Y(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,eh(e,t,n)}return It(e,t,n)}var ih,Ma,oh,ah;ih=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ma=function(){};oh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,wn(vt.current);var i=null;switch(n){case"input":s=na(e,s),r=na(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=ia(e,s),r=ia(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bi)}aa(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ah=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dg(e,t,n){var r=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Be(t.type)&&wi(),Se(t),null;case 3:return r=t.stateNode,lr(),te(Fe),te(Re),Hl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(As(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&($a(ct),ct=null))),Ma(e,t),Se(t),null;case 5:Vl(t);var s=wn(ls.current);if(n=t.type,e!==null&&t.stateNode!=null)oh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Se(t),null}if(e=wn(vt.current),As(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[xt]=t,r[os]=i,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)ee(Mr[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Pc(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":Oc(r,i),ee("invalid",r)}aa(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ds(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ds(r.textContent,l,e),s=["children",""+l]):Yr.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ee("scroll",r)}switch(n){case"input":Es(r),Lc(r,i,!0);break;case"textarea":Es(r),Mc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Md(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[xt]=t,e[os]=r,ih(e,t,!1,!1),t.stateNode=e;e:{switch(a=la(n,r),n){case"dialog":ee("cancel",e),ee("close",e),s=r;break;case"iframe":case"object":case"embed":ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)ee(Mr[s],e);s=r;break;case"source":ee("error",e),s=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=r;break;case"details":ee("toggle",e),s=r;break;case"input":Pc(e,r),s=na(e,r),ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),ee("invalid",e);break;case"textarea":Oc(e,r),s=ia(e,r),ee("invalid",e);break;default:s=r}aa(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ad(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Id(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jr(e,c):typeof c=="number"&&Jr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ee("scroll",e):c!=null&&bl(e,i,c,a))}switch(n){case"input":Es(e),Lc(e,r,!1);break;case"textarea":Es(e),Mc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ln(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Yn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Yn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)ah(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=wn(ls.current),wn(vt.current),As(t)){if(r=t.stateNode,n=t.memoizedProps,r[xt]=t,(i=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:Ds(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=t,t.stateNode=r}return Se(t),null;case 13:if(te(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&qe!==null&&t.mode&1&&!(t.flags&128))_f(),or(),t.flags|=98560,i=!1;else if(i=As(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[xt]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else ct!==null&&($a(ct),ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?xe===0&&(xe=3):nc())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return lr(),Ma(e,t),e===null&&ss(t.stateNode.containerInfo),Se(t),null;case 10:return Fl(t.type._context),Se(t),null;case 17:return Be(t.type)&&wi(),Se(t),null;case 19:if(te(se),i=t.memoizedState,i===null)return Se(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Sr(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ei(e),a!==null){for(t.flags|=128,Sr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>ur&&(t.flags|=128,r=!0,Sr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ei(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!re)return Se(t),null}else 2*de()-i.renderingStartTime>ur&&n!==1073741824&&(t.flags|=128,r=!0,Sr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,n=se.current,Y(se,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return tc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function fg(e,t){switch(Il(t),t.tag){case 1:return Be(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lr(),te(Fe),te(Re),Hl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vl(t),null;case 13:if(te(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(se),null;case 4:return lr(),null;case 10:return Fl(t.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var Bs=!1,Ee=!1,hg=typeof WeakSet=="function"?WeakSet:Set,L=null;function Qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Ia(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Cu=!1;function pg(e,t){if(ya=xi,e=ff(),Ol(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=a),h===i&&++d===r&&(c=a),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(va={focusedElem:e,selectionRange:n},xi=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,C=b.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ot(t.type,y),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(w){ue(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return b=Cu,Cu=!1,b}function Vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ia(t,n,i)}s=s.next}while(s!==r)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Da(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lh(e){var t=e.alternate;t!==null&&(e.alternate=null,lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[os],delete t[ka],delete t[Y0],delete t[J0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ch(e){return e.tag===5||e.tag===3||e.tag===4}function ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Aa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bi));else if(r!==4&&(e=e.child,e!==null))for(Aa(e,t,n),e=e.sibling;e!==null;)Aa(e,t,n),e=e.sibling}function za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(za(e,t,n),e=e.sibling;e!==null;)za(e,t,n),e=e.sibling}var we=null,at=!1;function Ut(e,t,n){for(n=n.child;n!==null;)uh(e,t,n),n=n.sibling}function uh(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Vi,n)}catch{}switch(n.tag){case 5:Ee||Qn(n,t);case 6:var r=we,s=at;we=null,Ut(e,t,n),we=r,at=s,we!==null&&(at?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(at?(e=we,n=n.stateNode,e.nodeType===8?Mo(e.parentNode,n):e.nodeType===1&&Mo(e,n),ts(e)):Mo(we,n.stateNode));break;case 4:r=we,s=at,we=n.stateNode.containerInfo,at=!0,Ut(e,t,n),we=r,at=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ia(n,t,a),s=s.next}while(s!==r)}Ut(e,t,n);break;case 1:if(!Ee&&(Qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ue(n,t,l)}Ut(e,t,n);break;case 21:Ut(e,t,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,Ut(e,t,n),Ee=r):Ut(e,t,n);break;default:Ut(e,t,n)}}function _u(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hg),t.forEach(function(r){var s=Cg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function st(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,at=!1;break e;case 3:we=l.stateNode.containerInfo,at=!0;break e;case 4:we=l.stateNode.containerInfo,at=!0;break e}l=l.return}if(we===null)throw Error(R(160));uh(i,a,s),we=null,at=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dh(t,e),t=t.sibling}function dh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),pt(e),r&4){try{Vr(3,e,e.return),Ji(3,e)}catch(y){ue(e,e.return,y)}try{Vr(5,e,e.return)}catch(y){ue(e,e.return,y)}}break;case 1:st(t,e),pt(e),r&512&&n!==null&&Qn(n,n.return);break;case 5:if(st(t,e),pt(e),r&512&&n!==null&&Qn(n,n.return),e.flags&32){var s=e.stateNode;try{Jr(s,"")}catch(y){ue(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ld(s,i),la(l,a);var u=la(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?Ad(s,f):d==="dangerouslySetInnerHTML"?Id(s,f):d==="children"?Jr(s,f):bl(s,d,f,u)}switch(l){case"input":ra(s,i);break;case"textarea":Od(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Yn(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Yn(s,!!i.multiple,i.defaultValue,!0):Yn(s,!!i.multiple,i.multiple?[]:"",!1))}s[os]=i}catch(y){ue(e,e.return,y)}}break;case 6:if(st(t,e),pt(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ue(e,e.return,y)}}break;case 3:if(st(t,e),pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ts(t.containerInfo)}catch(y){ue(e,e.return,y)}break;case 4:st(t,e),pt(e);break;case 13:st(t,e),pt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zl=de())),r&4&&_u(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(u=Ee)||d,st(t,e),Ee=u):st(t,e),pt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(L=e,d=e.child;d!==null;){for(f=L=d;L!==null;){switch(h=L,v=h.child,h.tag){case 0:case 11:case 14:case 15:Vr(4,h,h.return);break;case 1:Qn(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){ue(r,n,y)}}break;case 5:Qn(h,h.return);break;case 22:if(h.memoizedState!==null){Nu(f);continue}}v!==null?(v.return=h,L=v):Nu(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dd("display",a))}catch(y){ue(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ue(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:st(t,e),pt(e),r&4&&_u(e);break;case 21:break;default:st(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ch(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jr(s,""),r.flags&=-33);var i=ju(e);za(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=ju(e);Aa(e,l,a);break;default:throw Error(R(161))}}catch(c){ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mg(e,t,n){L=e,fh(e)}function fh(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Bs;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ee;l=Bs;var u=Ee;if(Bs=a,(Ee=c)&&!u)for(L=s;L!==null;)a=L,c=a.child,a.tag===22&&a.memoizedState!==null?Eu(s):c!==null?(c.return=a,L=c):Eu(s);for(;i!==null;)L=i,fh(i),i=i.sibling;L=s,Bs=l,Ee=u}Su(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):Su(e)}}function Su(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||Ji(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uu(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uu(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ts(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ee||t.flags&512&&Da(t)}catch(h){ue(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Nu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Eu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ji(4,t)}catch(c){ue(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ue(t,s,c)}}var i=t.return;try{Da(t)}catch(c){ue(t,i,c)}break;case 5:var a=t.return;try{Da(t)}catch(c){ue(t,a,c)}}}catch(c){ue(t,t.return,c)}if(t===e){L=null;break}var l=t.sibling;if(l!==null){l.return=t.return,L=l;break}L=t.return}}var gg=Math.ceil,Pi=Dt.ReactCurrentDispatcher,Jl=Dt.ReactCurrentOwner,et=Dt.ReactCurrentBatchConfig,W=0,be=null,pe=null,ke=0,He=0,Gn=dn(0),xe=0,fs=null,Nn=0,Xi=0,Xl=0,Hr=null,Ae=null,Zl=0,ur=1/0,Nt=null,Li=!1,Fa=null,tn=null,Us=!1,Kt=null,Oi=0,qr=0,Ba=null,ei=-1,ti=0;function Le(){return W&6?de():ei!==-1?ei:ei=de()}function nn(e){return e.mode&1?W&2&&ke!==0?ke&-ke:Z0.transition!==null?(ti===0&&(ti=Gd()),ti):(e=G,e!==0||(e=window.event,e=e===void 0?16:nf(e.type)),e):1}function dt(e,t,n,r){if(50<qr)throw qr=0,Ba=null,Error(R(185));bs(e,n,r),(!(W&2)||e!==be)&&(e===be&&(!(W&2)&&(Xi|=n),xe===4&&qt(e,ke)),Ue(e,r),n===1&&W===0&&!(t.mode&1)&&(ur=de()+500,Qi&&fn()))}function Ue(e,t){var n=e.callbackNode;Zm(e,t);var r=gi(e,e===be?ke:0);if(r===0)n!==null&&Ac(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ac(n),t===1)e.tag===0?X0(Ru.bind(null,e)):kf(Ru.bind(null,e)),Q0(function(){!(W&6)&&fn()}),n=null;else{switch(Yd(r)){case 1:n=_l;break;case 4:n=Kd;break;case 16:n=mi;break;case 536870912:n=Qd;break;default:n=mi}n=bh(n,hh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hh(e,t){if(ei=-1,ti=0,W&6)throw Error(R(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=gi(e,e===be?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mi(e,r);else{t=r;var s=W;W|=2;var i=mh();(be!==e||ke!==t)&&(Nt=null,ur=de()+500,kn(e,t));do try{vg();break}catch(l){ph(e,l)}while(!0);zl(),Pi.current=i,W=s,pe!==null?t=0:(be=null,ke=0,t=xe)}if(t!==0){if(t===2&&(s=ha(e),s!==0&&(r=s,t=Ua(e,s))),t===1)throw n=fs,kn(e,0),qt(e,r),Ue(e,de()),n;if(t===6)qt(e,r);else{if(s=e.current.alternate,!(r&30)&&!xg(s)&&(t=Mi(e,r),t===2&&(i=ha(e),i!==0&&(r=i,t=Ua(e,i))),t===1))throw n=fs,kn(e,0),qt(e,r),Ue(e,de()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:xn(e,Ae,Nt);break;case 3:if(qt(e,r),(r&130023424)===r&&(t=Zl+500-de(),10<t)){if(gi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wa(xn.bind(null,e,Ae,Nt),t);break}xn(e,Ae,Nt);break;case 4:if(qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ut(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gg(r/1960))-r,10<r){e.timeoutHandle=wa(xn.bind(null,e,Ae,Nt),r);break}xn(e,Ae,Nt);break;case 5:xn(e,Ae,Nt);break;default:throw Error(R(329))}}}return Ue(e,de()),e.callbackNode===n?hh.bind(null,e):null}function Ua(e,t){var n=Hr;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=Mi(e,t),e!==2&&(t=Ae,Ae=n,t!==null&&$a(t)),e}function $a(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function xg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ft(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~Xl,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function Ru(e){if(W&6)throw Error(R(327));tr();var t=gi(e,0);if(!(t&1))return Ue(e,de()),null;var n=Mi(e,t);if(e.tag!==0&&n===2){var r=ha(e);r!==0&&(t=r,n=Ua(e,r))}if(n===1)throw n=fs,kn(e,0),qt(e,t),Ue(e,de()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,Ae,Nt),Ue(e,de()),null}function ec(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(ur=de()+500,Qi&&fn())}}function En(e){Kt!==null&&Kt.tag===0&&!(W&6)&&tr();var t=W;W|=1;var n=et.transition,r=G;try{if(et.transition=null,G=1,e)return e()}finally{G=r,et.transition=n,W=t,!(W&6)&&fn()}}function tc(){He=Gn.current,te(Gn)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,K0(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(Il(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wi();break;case 3:lr(),te(Fe),te(Re),Hl();break;case 5:Vl(r);break;case 4:lr();break;case 13:te(se);break;case 19:te(se);break;case 10:Fl(r.type._context);break;case 22:case 23:tc()}n=n.return}if(be=e,pe=e=rn(e.current,null),ke=He=t,xe=0,fs=null,Xl=Xi=Nn=0,Ae=Hr=null,bn!==null){for(t=0;t<bn.length;t++)if(n=bn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}bn=null}return e}function ph(e,t){do{var n=pe;try{if(zl(),Js.current=Ti,Ri){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ri=!1}if(Sn=0,ve=ge=oe=null,$r=!1,cs=0,Jl.current=null,n===null||n.return===null){xe=1,fs=t,pe=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=gu(a);if(v!==null){v.flags&=-257,xu(v,a,l,i,t),v.mode&1&&mu(i,u,t),t=v,c=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){mu(i,u,t),nc();break e}c=Error(R(426))}}else if(re&&l.mode&1){var C=gu(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),xu(C,a,l,i,t),Dl(cr(c,l));break e}}i=c=cr(c,l),xe!==4&&(xe=2),Hr===null?Hr=[i]:Hr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Jf(i,c,t);cu(i,g);break e;case 1:l=c;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tn===null||!tn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Xf(i,l,t);cu(i,w);break e}}i=i.return}while(i!==null)}xh(n)}catch(_){t=_,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function mh(){var e=Pi.current;return Pi.current=Ti,e===null?Ti:e}function nc(){(xe===0||xe===3||xe===2)&&(xe=4),be===null||!(Nn&268435455)&&!(Xi&268435455)||qt(be,ke)}function Mi(e,t){var n=W;W|=2;var r=mh();(be!==e||ke!==t)&&(Nt=null,kn(e,t));do try{yg();break}catch(s){ph(e,s)}while(!0);if(zl(),W=n,Pi.current=r,pe!==null)throw Error(R(261));return be=null,ke=0,xe}function yg(){for(;pe!==null;)gh(pe)}function vg(){for(;pe!==null&&!Hm();)gh(pe)}function gh(e){var t=vh(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?xh(e):pe=t,Jl.current=null}function xh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fg(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,pe=null;return}}else if(n=dg(n,t,He),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);xe===0&&(xe=5)}function xn(e,t,n){var r=G,s=et.transition;try{et.transition=null,G=1,bg(e,t,n,r)}finally{et.transition=s,G=r}return null}function bg(e,t,n,r){do tr();while(Kt!==null);if(W&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(e0(e,i),e===be&&(pe=be=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Us||(Us=!0,bh(mi,function(){return tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=et.transition,et.transition=null;var a=G;G=1;var l=W;W|=4,Jl.current=null,pg(e,n),dh(n,e),B0(va),xi=!!ya,va=ya=null,e.current=n,mg(n),qm(),W=l,G=a,et.transition=i}else e.current=n;if(Us&&(Us=!1,Kt=e,Oi=s),i=e.pendingLanes,i===0&&(tn=null),Qm(n.stateNode),Ue(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Li)throw Li=!1,e=Fa,Fa=null,e;return Oi&1&&e.tag!==0&&tr(),i=e.pendingLanes,i&1?e===Ba?qr++:(qr=0,Ba=e):qr=0,fn(),null}function tr(){if(Kt!==null){var e=Yd(Oi),t=et.transition,n=G;try{if(et.transition=null,G=16>e?16:e,Kt===null)var r=!1;else{if(e=Kt,Kt=null,Oi=0,W&6)throw Error(R(331));var s=W;for(W|=4,L=e.current;L!==null;){var i=L,a=i.child;if(L.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(L=u;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:Vr(8,d,i)}var f=d.child;if(f!==null)f.return=d,L=f;else for(;L!==null;){d=L;var h=d.sibling,v=d.return;if(lh(d),d===u){L=null;break}if(h!==null){h.return=v,L=h;break}L=v}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}L=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,L=a;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,L=g;break e}L=i.return}}var p=e.current;for(L=p;L!==null;){a=L;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,L=m;else e:for(a=p;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ji(9,l)}}catch(_){ue(l,l.return,_)}if(l===a){L=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,L=w;break e}L=l.return}}if(W=s,fn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Vi,e)}catch{}r=!0}return r}finally{G=n,et.transition=t}}return!1}function Tu(e,t,n){t=cr(n,t),t=Jf(e,t,1),e=en(e,t,1),t=Le(),e!==null&&(bs(e,1,t),Ue(e,t))}function ue(e,t,n){if(e.tag===3)Tu(e,e,n);else for(;t!==null;){if(t.tag===3){Tu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=cr(n,e),e=Xf(t,e,1),t=en(t,e,1),e=Le(),t!==null&&(bs(t,1,e),Ue(t,e));break}}t=t.return}}function wg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(ke&n)===n&&(xe===4||xe===3&&(ke&130023424)===ke&&500>de()-Zl?kn(e,0):Xl|=n),Ue(e,t)}function yh(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var n=Le();e=Mt(e,t),e!==null&&(bs(e,t,n),Ue(e,n))}function kg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yh(e,n)}function Cg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),yh(e,n)}var vh;vh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,ug(e,t,n);ze=!!(e.flags&131072)}else ze=!1,re&&t.flags&1048576&&Cf(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var s=ir(t,Re.current);er(t,n),s=Wl(null,t,r,e,s,n);var i=Kl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(r)?(i=!0,ki(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ul(t),s.updater=Yi,t.stateNode=s,s._reactInternals=t,Ea(t,r,e,n),t=Pa(null,t,r,!0,i,n)):(t.tag=0,re&&i&&Ml(t),Pe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=_g(r),e=ot(r,e),s){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=bu(null,t,r,e,n);break e;case 11:t=yu(null,t,r,e,n);break e;case 14:t=vu(null,t,r,ot(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Ta(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),bu(e,t,r,s,n);case 3:e:{if(nh(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Rf(e,t),Ni(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=cr(Error(R(423)),t),t=wu(e,t,r,n,s);break e}else if(r!==s){s=cr(Error(R(424)),t),t=wu(e,t,r,n,s);break e}else for(qe=Zt(t.stateNode.containerInfo.firstChild),We=t,re=!0,ct=null,n=Nf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===s){t=It(e,t,n);break e}Pe(e,t,r,n)}t=t.child}return t;case 5:return Tf(t),e===null&&_a(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ba(r,s)?a=null:i!==null&&ba(r,i)&&(t.flags|=32),th(e,t),Pe(e,t,a,n),t.child;case 6:return e===null&&_a(t),null;case 13:return rh(e,t,n);case 4:return $l(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ar(t,null,r,n):Pe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),yu(e,t,r,s,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Y(_i,r._currentValue),r._currentValue=a,i!==null)if(ft(i.value,a)){if(i.children===s.children&&!Fe.current){t=It(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Pt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Sa(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(R(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Sa(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Pe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,er(t,n),s=nt(s),r=r(s),t.flags|=1,Pe(e,t,r,n),t.child;case 14:return r=t.type,s=ot(r,t.pendingProps),s=ot(r.type,s),vu(e,t,r,s,n);case 15:return Zf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Zs(e,t),t.tag=1,Be(r)?(e=!0,ki(t)):e=!1,er(t,n),Yf(t,r,s),Ea(t,r,s,n),Pa(null,t,r,!0,e,n);case 19:return sh(e,t,n);case 22:return eh(e,t,n)}throw Error(R(156,t.tag))};function bh(e,t){return Wd(e,t)}function jg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,r){return new jg(e,t,n,r)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _g(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kl)return 11;if(e===Cl)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ni(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")rc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fn:return Cn(n.children,s,i,t);case wl:a=8,s|=8;break;case Xo:return e=Ze(12,n,t,s|2),e.elementType=Xo,e.lanes=i,e;case Zo:return e=Ze(13,n,t,s),e.elementType=Zo,e.lanes=i,e;case ea:return e=Ze(19,n,t,s),e.elementType=ea,e.lanes=i,e;case Rd:return Zi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nd:a=10;break e;case Ed:a=9;break e;case kl:a=11;break e;case Cl:a=14;break e;case $t:a=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ze(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Cn(e,t,n,r){return e=Ze(7,e,r,t),e.lanes=n,e}function Zi(e,t,n,r){return e=Ze(22,e,r,t),e.elementType=Rd,e.lanes=n,e.stateNode={isHidden:!1},e}function $o(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function Vo(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Co(0),this.expirationTimes=Co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sc(e,t,n,r,s,i,a,l,c){return e=new Sg(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(i),e}function Ng(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wh(e){if(!e)return cn;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Be(n))return wf(e,n,t)}return t}function kh(e,t,n,r,s,i,a,l,c){return e=sc(n,r,!0,e,s,i,a,l,c),e.context=wh(null),n=e.current,r=Le(),s=nn(n),i=Pt(r,s),i.callback=t??null,en(n,i,s),e.current.lanes=s,bs(e,s,r),Ue(e,r),e}function eo(e,t,n,r){var s=t.current,i=Le(),a=nn(s);return n=wh(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(s,t,a),e!==null&&(dt(e,s,a,i),Ys(e,s,a)),a}function Ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ic(e,t){Pu(e,t),(e=e.alternate)&&Pu(e,t)}function Eg(){return null}var Ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}to.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));eo(e,t,null,null)};to.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){eo(null,e,null,null)}),t[Ot]=null}};function to(e){this._internalRoot=e}to.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ht.length&&t!==0&&t<Ht[n].priority;n++);Ht.splice(n,0,e),n===0&&tf(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function no(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function Rg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ii(a);i.call(u)}}var a=kh(t,r,e,0,null,!1,!1,"",Lu);return e._reactRootContainer=a,e[Ot]=a.current,ss(e.nodeType===8?e.parentNode:e),En(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ii(c);l.call(u)}}var c=sc(e,0,!1,null,null,!1,!1,"",Lu);return e._reactRootContainer=c,e[Ot]=c.current,ss(e.nodeType===8?e.parentNode:e),En(function(){eo(t,c,n,r)}),c}function ro(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Ii(a);l.call(c)}}eo(t,a,e,s)}else a=Rg(n,t,e,s,r);return Ii(a)}Jd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(Sl(t,n|1),Ue(t,de()),!(W&6)&&(ur=de()+500,fn()))}break;case 13:En(function(){var r=Mt(e,1);if(r!==null){var s=Le();dt(r,e,1,s)}}),ic(e,1)}};Nl=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Le();dt(t,e,134217728,n)}ic(e,134217728)}};Xd=function(e){if(e.tag===13){var t=nn(e),n=Mt(e,t);if(n!==null){var r=Le();dt(n,e,t,r)}ic(e,t)}};Zd=function(){return G};ef=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};ua=function(e,t,n){switch(t){case"input":if(ra(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ki(r);if(!s)throw Error(R(90));Pd(r),ra(r,s)}}}break;case"textarea":Od(e,n);break;case"select":t=n.value,t!=null&&Yn(e,!!n.multiple,t,!1)}};Bd=ec;Ud=En;var Tg={usingClientEntryPoint:!1,Events:[ks,Vn,Ki,zd,Fd,ec]},Nr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pg={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hd(e),e===null?null:e.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||Eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{Vi=$s.inject(Pg),yt=$s}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(R(200));return Ng(e,t,null,n)};Qe.createRoot=function(e,t){if(!ac(e))throw Error(R(299));var n=!1,r="",s=Ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sc(e,1,!1,null,null,n,!1,r,s),e[Ot]=t.current,ss(e.nodeType===8?e.parentNode:e),new oc(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Hd(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return En(e)};Qe.hydrate=function(e,t,n){if(!no(t))throw Error(R(200));return ro(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!ac(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Ch;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=kh(t,null,e,1,n??null,s,!1,i,a),e[Ot]=t.current,ss(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new to(t)};Qe.render=function(e,t,n){if(!no(t))throw Error(R(200));return ro(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!no(e))throw Error(R(40));return e._reactRootContainer?(En(function(){ro(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};Qe.unstable_batchedUpdates=ec;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!no(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return ro(e,t,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function jh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jh)}catch(e){console.error(e)}}jh(),Cd.exports=Qe;var Lg=Cd.exports,Ou=Lg;Yo.createRoot=Ou.createRoot,Yo.hydrateRoot=Ou.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs.apply(this,arguments)}var Qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qt||(Qt={}));const Mu="popstate";function Og(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:l="",hash:c=""}=Ln(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Va("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Di(i))}function r(s,i){so(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Ig(t,n,r,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function so(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mg(){return Math.random().toString(36).substr(2,8)}function Iu(e,t){return{usr:e.state,key:e.key,idx:t}}function Va(e,t,n,r){return n===void 0&&(n=null),hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ln(t):t,{state:n,key:t&&t.key||r||Mg()})}function Di(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ln(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ig(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Qt.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(hs({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Qt.Pop;let C=d(),g=C==null?null:C-u;u=C,c&&c({action:l,location:y.location,delta:g})}function h(C,g){l=Qt.Push;let p=Va(y.location,C,g);n&&n(p,C),u=d()+1;let m=Iu(p,u),w=y.createHref(p);try{a.pushState(m,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(w)}i&&c&&c({action:l,location:y.location,delta:1})}function v(C,g){l=Qt.Replace;let p=Va(y.location,C,g);n&&n(p,C),u=d();let m=Iu(p,u),w=y.createHref(p);a.replaceState(m,"",w),i&&c&&c({action:l,location:y.location,delta:0})}function b(C){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof C=="string"?C:Di(C);return p=p.replace(/ $/,"%20"),ae(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return l},get location(){return e(s,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Mu,f),c=C,()=>{s.removeEventListener(Mu,f),c=null}},createHref(C){return t(s,C)},createURL:b,encodeLocation(C){let g=b(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:v,go(C){return a.go(C)}};return y}var Du;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Du||(Du={}));function Dg(e,t,n){return n===void 0&&(n="/"),Ag(e,t,n)}function Ag(e,t,n,r){let s=typeof t=="string"?Ln(t):t,i=dr(s.pathname||"/",n);if(i==null)return null;let a=_h(e);zg(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Gg(i);l=Kg(a[c],u)}return l}function _h(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=sn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_h(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:qg(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Sh(i.path))s(i,a,c)}),t}function Sh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Sh(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fg=/^:[\w-]+$/,Bg=3,Ug=2,$g=1,Vg=10,Hg=-2,Au=e=>e==="*";function qg(e,t){let n=e.split("/"),r=n.length;return n.some(Au)&&(r+=Hg),t&&(r+=Ug),n.filter(s=>!Au(s)).reduce((s,i)=>s+(Fg.test(i)?Bg:i===""?$g:Vg),r)}function Wg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Kg(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:sn([i,f.pathname]),pathnameBase:ex(sn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=sn([i,f.pathnameBase]))}return a}function Ha(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let y=l[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[f];return v&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Qg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),so(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Gg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return so(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Yg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jg=e=>Yg.test(e);function Xg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ln(e):e,i;if(n)if(Jg(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),so(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=zu(n.substring(1),"/"):i=zu(n,t)}else i=t;return{pathname:i,search:tx(r),hash:nx(s)}}function zu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ho(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lc(e,t){let n=Zg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ln(e):(s=hs({},e),ae(!s.pathname||!s.pathname.includes("?"),Ho("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),Ho("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),Ho("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Xg(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const sn=e=>e.join("/").replace(/\/\/+/g,"/"),ex=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nh=["post","put","patch","delete"];new Set(Nh);const sx=["get",...Nh];new Set(sx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ps.apply(this,arguments)}const io=x.createContext(null),Eh=x.createContext(null),At=x.createContext(null),oo=x.createContext(null),hn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Rh=x.createContext(null);function ix(e,t){let{relative:n}=t===void 0?{}:t;mr()||ae(!1);let{basename:r,navigator:s}=x.useContext(At),{hash:i,pathname:a,search:l}=ao(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:sn([r,a])),s.createHref({pathname:c,search:l,hash:i})}function mr(){return x.useContext(oo)!=null}function On(){return mr()||ae(!1),x.useContext(oo).location}function Th(e){x.useContext(At).static||x.useLayoutEffect(e)}function gr(){let{isDataRoute:e}=x.useContext(hn);return e?yx():ox()}function ox(){mr()||ae(!1);let e=x.useContext(io),{basename:t,future:n,navigator:r}=x.useContext(At),{matches:s}=x.useContext(hn),{pathname:i}=On(),a=JSON.stringify(lc(s,n.v7_relativeSplatPath)),l=x.useRef(!1);return Th(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=cc(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:sn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}function ao(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(At),{matches:s}=x.useContext(hn),{pathname:i}=On(),a=JSON.stringify(lc(s,r.v7_relativeSplatPath));return x.useMemo(()=>cc(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function ax(e,t){return lx(e,t)}function lx(e,t,n,r){mr()||ae(!1);let{navigator:s}=x.useContext(At),{matches:i}=x.useContext(hn),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=On(),d;if(t){var f;let C=typeof t=="string"?Ln(t):t;c==="/"||(f=C.pathname)!=null&&f.startsWith(c)||ae(!1),d=C}else d=u;let h=d.pathname||"/",v=h;if(c!=="/"){let C=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=Dg(e,{pathname:v}),y=hx(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:sn([c,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:sn([c,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n,r);return t&&y?x.createElement(oo.Provider,{value:{location:ps({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qt.Pop}},y):y}function cx(){let e=xx(),t=rx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,null)}const ux=x.createElement(cx,null);class dx extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(hn.Provider,{value:this.props.routeContext},x.createElement(Rh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fx(e){let{routeContext:t,match:n,children:r}=e,s=x.useContext(io);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(hn.Provider,{value:t},r)}function hx(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ae(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:v}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let v,b=!1,y=null,C=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||ux,c&&(u<0&&h===0?(vx("route-fallback"),b=!0,C=null):u===h&&(b=!0,C=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),p=()=>{let m;return v?m=y:b?m=C:f.route.Component?m=x.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,x.createElement(fx,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(dx,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Ph=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ph||{}),Lh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lh||{});function px(e){let t=x.useContext(io);return t||ae(!1),t}function mx(e){let t=x.useContext(Eh);return t||ae(!1),t}function gx(e){let t=x.useContext(hn);return t||ae(!1),t}function Oh(e){let t=gx(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function xx(){var e;let t=x.useContext(Rh),n=mx(),r=Oh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function yx(){let{router:e}=px(Ph.UseNavigateStable),t=Oh(Lh.UseNavigateStable),n=x.useRef(!1);return Th(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ps({fromRouteId:t},i)))},[e,t])}const Fu={};function vx(e,t,n){Fu[e]||(Fu[e]=!0)}function bx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bu(e){let{to:t,replace:n,state:r,relative:s}=e;mr()||ae(!1);let{future:i,static:a}=x.useContext(At),{matches:l}=x.useContext(hn),{pathname:c}=On(),u=gr(),d=cc(t,lc(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function it(e){ae(!1)}function wx(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Qt.Pop,navigator:i,static:a=!1,future:l}=e;mr()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:a,future:ps({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Ln(r));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:b="default"}=r,y=x.useMemo(()=>{let C=dr(d,c);return C==null?null:{location:{pathname:C,search:f,hash:h,state:v,key:b},navigationType:s}},[c,d,f,h,v,b,s]);return y==null?null:x.createElement(At.Provider,{value:u},x.createElement(oo.Provider,{children:n,value:y}))}function kx(e){let{children:t,location:n}=e;return ax(qa(t),n)}new Promise(()=>{});function qa(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,qa(r.props.children,i));return}r.type!==it&&ae(!1),!r.props.index||!r.props.children||ae(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=qa(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}function Mh(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Cx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jx(e,t){return e.button===0&&(!t||t==="_self")&&!Cx(e)}const _x=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Nx="6";try{window.__reactRouterVersion=Nx}catch{}const Ex=x.createContext({isTransitioning:!1}),Rx="startTransition",Uu=wm[Rx];function Tx(e){let{basename:t,children:n,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=Og({window:s,v5Compat:!0}));let a=i.current,[l,c]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=x.useCallback(f=>{u&&Uu?Uu(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.useEffect(()=>bx(r),[r]),x.createElement(wx,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Px=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ih=x.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Mh(t,_x),{basename:v}=x.useContext(At),b,y=!1;if(typeof u=="string"&&Lx.test(u)&&(b=u,Px))try{let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),_=dr(w.pathname,v);w.origin===m.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let C=ix(u,{relative:s}),g=Mx(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function p(m){r&&r(m),m.defaultPrevented||g(m)}return x.createElement("a",Ai({},h,{href:b||C,onClick:y||i?r:p,ref:n,target:c}))}),Er=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,f=Mh(t,Sx),h=ao(c,{relative:f.relative}),v=On(),b=x.useContext(Eh),{navigator:y,basename:C}=x.useContext(At),g=b!=null&&Ix(h)&&u===!0,p=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,m=v.pathname,w=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(m=m.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&C&&(w=dr(w,C)||w);const _=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=m===p||!a&&m.startsWith(p)&&m.charAt(_)==="/",N=w!=null&&(w===p||!a&&w.startsWith(p)&&w.charAt(p.length)==="/"),E={isActive:k,isPending:N,isTransitioning:g},D=k?r:void 0,M;typeof i=="function"?M=i(E):M=[i,k?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(E):l;return x.createElement(Ih,Ai({},f,{"aria-current":D,className:M,ref:n,style:H,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var Wa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wa||(Wa={}));var $u;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($u||($u={}));function Ox(e){let t=x.useContext(io);return t||ae(!1),t}function Mx(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=gr(),u=On(),d=ao(e,{relative:a});return x.useCallback(f=>{if(jx(f,n)){f.preventDefault();let h=r!==void 0?r:Di(u)===Di(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}function Ix(e,t){t===void 0&&(t={});let n=x.useContext(Ex);n==null&&ae(!1);let{basename:r}=Ox(Wa.useViewTransitionState),s=ao(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ha(s.pathname,a)!=null||Ha(s.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),P=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...Dx,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ax(e)}`,l].join(" "),...u},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=P("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=P("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=P("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=P("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=P("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=P("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=P("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=P("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=P("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=P("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=P("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=P("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=P("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=P("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=P("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=P("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=P("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=P("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=P("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=P("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=P("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=P("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=P("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=P("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=P("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=P("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=P("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=P("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=P("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=P("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=P("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=P("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=P("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=P("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=P("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=P("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=P("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=P("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=P("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=P("MonitorOff",[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=P("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=P("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=P("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=P("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=P("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=P("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=P("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=P("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=P("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=P("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=P("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=P("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=P("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=P("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=P("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=P("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=P("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=P("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=P("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=P("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=P("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=P("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=P("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=P("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=P("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=P("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=P("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=P("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=P("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ku=[{icon:Bh,title:"La Gravit",content:"Imaginez l'espace comme un grand drap tendu. Si vous posez une boule de bowling au milieu (le Soleil), le drap se courbe. Si vous lancez une bille (la Terre) sur le drap, elle tournera autour du creux. C'est la courbure de l'espace-temps !",fact:"Sur Mars, vous pseriez seulement 38% de votre poids sur Terre.",color:"text-blue-500",bg:"bg-blue-50",navBg:"bg-blue-100",navText:"text-blue-600",navBorder:"hover:border-blue-300",iconClass:"group-hover:animate-bounce"},{icon:ay,title:"La Lumire",content:"La lumire du soleil contient toutes les couleurs. L'atmosphre diffuse davantage la lumire bleue (onde courte). C'est pour a que le ciel est bleu ! Au coucher, la lumire traverse plus d'air, ne laissant passer que le rouge.",fact:"La lumire du soleil met 8 minutes et 20 secondes pour nous atteindre.",color:"text-yellow-500",bg:"bg-yellow-50",navBg:"bg-yellow-100",navText:"text-yellow-600",navBorder:"hover:border-yellow-300",iconClass:"group-hover:animate-spin-slow"},{icon:Qh,title:"L'lectricit",content:"C'est une histoire d'lectrons ! Dans une ampoule, ils se bousculent dans un filament qui chauffe  blanc. Dans une LED, les lectrons sautent des barrires atomiques et librent de la lumire pure sans chauffer.",fact:"La vitesse de l'lectricit est proche de celle de la lumire.",color:"text-purple-500",bg:"bg-purple-50",navBg:"bg-purple-100",navText:"text-purple-600",navBorder:"hover:border-purple-300",iconClass:"group-hover:text-purple-500"},{icon:Fx,title:"L'Atome",content:"Tout est fait d'atomes. Mais un atome est compos  99.99% de vide ! Si on enlevait tout le vide des atomes de tous les humains sur Terre, l'humanit entire tiendrait dans un morceau de sucre.",fact:"Les lectrons tournent autour du noyau comme des plantes, mais  une vitesse folle.",color:"text-green-500",bg:"bg-green-50",navBg:"bg-emerald-100",navText:"text-emerald-600",navBorder:"hover:border-emerald-300",iconClass:"group-hover:animate-spin"},{icon:Hx,title:"L'Eau",content:"L'eau mouille grce  l'adhsion (elle colle aux surfaces) et la cohsion (elle reste ensemble). C'est ce qui lui permet de grimper le long des plantes contre la gravit (capillarit).",fact:"L'eau est la seule substance sur Terre existant naturellement sous trois formes : liquide, solide, gaz.",color:"text-cyan-500",bg:"bg-cyan-50",navBg:"bg-cyan-100",navText:"text-cyan-600",navBorder:"hover:border-cyan-300",iconClass:"group-hover:animate-pulse"}],Gh=()=>{const e=new Date,t=(e.getDate()+e.getMonth()*30)%Ku.length;return Ku[t]},gy=({children:e,user:t,onLogout:n,onLoginRequest:r,onAdminRequest:s,isLiveActive:i})=>{const a=On(),l=gr(),[c,u]=x.useState(!1),[d,f]=x.useState(!1),h=Gh(),v=h.icon;x.useEffect(()=>{const m=()=>{u(window.scrollY>20)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[a.pathname]);const b=[{icon:Qx,label:"Accueil",path:"/"},{icon:ms,label:"Cours",path:"/courses"},{icon:Rn,label:"Sries",path:"/resources"},{icon:fc,label:"Sujets Bac",path:"/sujets-bac"},{icon:wt,label:"Vidos",path:"/videos"},{icon:pc,label:"Forum",path:"/forum"}];(t==null?void 0:t.role)==="TEACHER"&&b.push({icon:mc,label:"Tableau de Bord",path:"/dashboard"});const y=(t==null?void 0:t.role)==="TEACHER",C=y||i,p=(m=>{const w=m.replace("bg-","").replace("-50","");return`bg-gradient-to-br from-${w}-400 to-${w}-600`})(h.bg);return o.jsxs("div",{className:"min-h-screen bg-transparent text-brand-900 font-sans selection:bg-bac-light/30 flex flex-col",children:[o.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${c?"bg-white/95 backdrop-blur-md border-brand-100 py-3 shadow-md shadow-brand-900/5":"bg-white/80 backdrop-blur-sm border-transparent py-5 shadow-sm"}`,children:o.jsxs("div",{className:"w-full max-w-[98%] mx-auto px-4 sm:px-6 flex items-center justify-between",children:[o.jsxs("div",{onClick:()=>l("/"),className:"group flex items-center gap-3 select-none cursor-pointer",children:[o.jsx("style",{children:`
              @keyframes bubble-rise {
                0% { transform: translateY(4px) scale(0.5); opacity: 0; }
                50% { opacity: 1; }
                100% { transform: translateY(-8px) scale(1.1); opacity: 0; }
              }
            `}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"bg-bac-light text-white px-3 py-1.5 rounded-tl-2xl rounded-br-2xl font-bold text-xl shadow-lg relative z-10 transition-all duration-300 group-hover:shadow-bac-light/40 group-hover:rotate-3",children:"BAC"}),o.jsx("div",{className:"absolute inset-0 -z-0",children:o.jsx("div",{className:"absolute top-1/2 left-1/2 w-12 h-12 border border-bac-blue/20 rounded-full -translate-x-1/2 -translate-y-1/2 animate-[spin_4s_linear_infinite]"})})]}),o.jsxs("div",{className:"flex flex-col leading-none",children:[o.jsxs("div",{className:"flex items-end font-serif font-bold text-2xl text-bac-blue tracking-tight",children:[o.jsx("span",{children:"Physiq"}),o.jsx("span",{className:"text-bac-light",children:"ue"}),o.jsx("span",{className:"ml-[1px]",children:"Chimie"}),o.jsx("span",{className:"text-bac-light text-lg ml-0.5",children:".tn"})]}),o.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] text-brand-400 font-semibold group-hover:text-bac-light transition-colors pl-1",children:"L'excellence Scientifique"})]})]}),o.jsx("nav",{className:"hidden xl:flex items-center gap-2 bg-brand-50/50 p-1.5 rounded-2xl border border-brand-200/50 backdrop-blur-sm",children:b.map(m=>{const w=a.pathname===m.path;return o.jsxs(Er,{to:m.path,className:`px-4 py-2 rounded-xl text-sm font-bold transition-all duration-200 flex items-center gap-2 ${w?"bg-white text-bac-blue shadow-md shadow-brand-200/50":"text-brand-500 hover:text-bac-blue hover:bg-white/60"}`,children:[o.jsx(m.icon,{className:`w-4 h-4 ${w?"text-bac-light":""}`}),m.label]},m.path)})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>l("/daily-science"),className:"hidden md:flex relative group items-center gap-3 px-1 pr-4 py-1 bg-white border border-brand-100 rounded-full shadow-lg hover:shadow-xl hover:border-bac-light/30 transition-all duration-300 hover:-translate-y-0.5 cursor-pointer",children:[o.jsx("div",{className:`absolute inset-0 rounded-full opacity-0 group-hover:opacity-10 transition-opacity duration-500 ${p}`}),o.jsxs("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-white shadow-md relative overflow-hidden ${p}`,children:[o.jsx(v,{className:"w-5 h-5 relative z-10 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-[spin_3s_linear_infinite] opacity-30"})]}),o.jsxs("div",{className:"flex flex-col items-start leading-none",children:[o.jsx("span",{className:"text-[10px] font-bold text-brand-400 uppercase tracking-wider",children:"Info du Jour"}),o.jsx("span",{className:"text-sm font-bold text-brand-900 group-hover:text-bac-blue transition-colors max-w-[100px] truncate",children:h.title})]})]}),C&&o.jsxs(Er,{to:"/live",className:({isActive:m})=>`
                      hidden sm:flex relative px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 items-center gap-2 overflow-hidden
                      ${m?"bg-red-600 text-white shadow-md shadow-red-500/30":"bg-red-50 text-red-500 hover:bg-red-100 border border-red-100"}
                  `,children:[o.jsx(gs,{className:`w-4 h-4 ${y?"":"animate-pulse"}`}),o.jsx("span",{className:"relative z-10",children:"Direct"}),(!y||i)&&o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),t?o.jsx("div",{className:"flex items-center gap-3 pl-2 border-l border-brand-200",children:o.jsxs("div",{className:"relative group",children:[o.jsx("button",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-bac-light to-bac-blue flex items-center justify-center text-white font-bold text-sm shadow-md ring-2 ring-white group-hover:ring-bac-light transition-all",children:t.name.charAt(0)}),o.jsxs("div",{className:"absolute right-0 top-full mt-4 w-48 bg-white border border-brand-100 rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all transform origin-top-right z-50",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-brand-50",children:[o.jsx("p",{className:"text-sm font-bold text-brand-900",children:t.name}),o.jsx("p",{className:"text-xs text-brand-500",children:t.role==="TEACHER"?"Professeur":"tudiant"})]}),o.jsxs("button",{onClick:n,className:"w-full flex items-center gap-2 px-4 py-3 text-sm text-red-500 hover:bg-red-50 text-left last:rounded-b-xl",children:[o.jsx(Xx,{className:"w-4 h-4"}),"Se dconnecter"]})]})]})}):o.jsxs("button",{onClick:r,className:"px-5 py-2.5 rounded-xl bg-bac-blue hover:bg-sky-700 text-white font-bold text-sm transition-all shadow-md shadow-bac-blue/20 flex items-center gap-2",children:[o.jsx(Jx,{className:"w-4 h-4"}),o.jsx("span",{children:"Connexion"})]}),o.jsx("button",{className:"xl:hidden p-2 text-brand-600 hover:text-bac-blue bg-brand-50 rounded-lg",onClick:()=>f(!d),children:d?o.jsx(tt,{}):o.jsx(Zx,{})})]})]})}),d&&o.jsx("div",{className:"fixed inset-0 z-40 bg-white/95 backdrop-blur-xl xl:hidden pt-28 px-6 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("nav",{className:"flex flex-col gap-3",children:[o.jsxs(Er,{to:"/daily-science",onClick:()=>f(!1),className:`p-4 rounded-xl text-lg font-bold flex items-center gap-4 border shadow-sm ${h.navBg} ${h.navText} border-transparent`,children:[o.jsx(v,{className:`w-6 h-6 fill-current ${h.iconClass}`}),o.jsxs("span",{children:["Info du jour: ",h.title]})]}),b.map(m=>o.jsxs(Er,{to:m.path,onClick:()=>f(!1),className:({isActive:w})=>`
                     p-4 rounded-xl text-lg font-bold flex items-center gap-4 transition-colors
                     ${w?"bg-bac-blue text-white shadow-lg shadow-bac-blue/30":"bg-brand-50 text-brand-600"}
                   `,children:[o.jsx(m.icon,{className:"w-6 h-6"}),m.label]},m.path))]})}),o.jsx("main",{className:"pt-28 flex-1 w-full max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:o.jsx("div",{className:"animate-[pageEnter_0.5s_cubic-bezier(0.2,0.8,0.2,1)_forwards]",children:e},a.pathname)}),o.jsxs("footer",{className:"bg-brand-900 text-white pt-16 pb-8 border-t border-brand-800 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5 pointer-events-none"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-bac-light text-white px-2 py-1 rounded-tl-lg rounded-br-lg font-bold text-lg shadow-lg shadow-bac-blue/50",children:"BAC"}),o.jsx("span",{className:"font-serif font-bold text-xl text-white tracking-tight",children:"PhysiqueChimie.tn"})]}),o.jsx("p",{className:"text-brand-400 text-sm leading-relaxed",children:"La plateforme ducative de rfrence en Tunisie pour les sciences physiques. Excellence, pdagogie et innovation au service de votre russite."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"https://www.facebook.com/profile.php?id=61557001837844",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-brand-800 flex items-center justify-center text-brand-400 hover:bg-blue-600 hover:text-white transition-all transform hover:-translate-y-1",children:o.jsx(qx,{className:"w-5 h-5"})}),o.jsx("a",{href:"https://www.youtube.com/@bacphysiquechimietn",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-brand-800 flex items-center justify-center text-brand-400 hover:bg-red-600 hover:text-white transition-all transform hover:-translate-y-1",children:o.jsx(py,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(Wr,{className:"w-4 h-4 text-bac-light"})," Navigation"]}),o.jsx("ul",{className:"space-y-3",children:[{label:"Accueil",path:"/"},{label:"Cours Vido",path:"/courses"},{label:"Sries & PDFs",path:"/resources"}].map(m=>o.jsx("li",{children:o.jsxs(Er,{to:m.path,className:"text-brand-400 hover:text-bac-light transition-colors text-sm flex items-center gap-2 group",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-brand-700 rounded-full group-hover:bg-bac-light transition-colors"}),m.label]})},m.path))})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(Wr,{className:"w-4 h-4 text-bac-light"})," Contact"]}),o.jsxs("ul",{className:"space-y-4",children:[o.jsxs("li",{className:"flex items-center gap-3 text-brand-400 text-sm",children:[o.jsx(iy,{className:"w-5 h-5 text-bac-light shrink-0"}),o.jsx("span",{children:"+216 54 835 839"})]}),o.jsxs("li",{className:"flex items-center gap-3 text-brand-400 text-sm",children:[o.jsx(hc,{className:"w-5 h-5 text-bac-light shrink-0"}),o.jsx("span",{children:"mohameddhaferbahroun@gmail.com"})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(Wr,{className:"w-4 h-4 text-bac-light"})," Administration"]}),o.jsx("p",{className:"text-brand-400 text-sm mb-4",children:"Accs rserv au corps enseignant pour la gestion des cours et des ressources."}),o.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 text-sm font-bold bg-brand-800 hover:bg-bac-blue text-white py-3 rounded-xl transition-all shadow-lg hover:shadow-bac-blue/30 border border-brand-700 hover:border-bac-blue",children:[o.jsx(lo,{className:"w-4 h-4"}),o.jsx("span",{children:"Espace Enseignant"})]})]})]}),o.jsxs("div",{className:"border-t border-brand-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-brand-500",children:[o.jsxs("p",{children:[" ",new Date().getFullYear()," Bac Physique Chimie TN. Tous droits rservs."]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Mentions Lgales"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Politique de Confidentialit"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"CGU"})]})]})]})]})]})},Yh=({course:e,onClick:t})=>o.jsxs("div",{onClick:t,className:"group relative bg-white border border-brand-200 rounded-3xl overflow-hidden hover:border-bac-light/50 transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:shadow-bac-blue/10 cursor-pointer flex flex-col h-full",children:[o.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[o.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-bac-blue/90 to-transparent opacity-60"}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:o.jsx("div",{className:"flex gap-2 mb-2",children:e.tags.slice(0,2).map(n=>o.jsx("span",{className:"px-2.5 py-1 text-[10px] font-bold uppercase tracking-wide bg-white/20 text-white rounded-md backdrop-blur-md border border-white/20",children:n},n))})})]}),o.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-bac-blue mb-2 group-hover:text-bac-light transition-colors line-clamp-2",children:e.title}),o.jsx("p",{className:"text-sm text-brand-500 mb-4 line-clamp-2 flex-1",children:e.description}),o.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-brand-400 border-t border-brand-100 pt-4 mt-auto",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Kh,{className:"w-4 h-4 text-bac-light"}),o.jsxs("span",{children:[e.students.toLocaleString()," lves"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Vx,{className:"w-4 h-4 text-bac-light"}),o.jsxs("span",{children:[e.modules," Chapitres"]})]})]})]})]});class xy{async getMe(){try{const t=await fetch("/api/auth/me");return t.ok?await t.json():null}catch{return null}}async login(t,n){const r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Erreur de connexion")}return await r.json()}async register(t,n,r){const s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:r})});if(!s.ok){const i=await s.json();throw new Error(i.error||"Erreur d'inscription")}return await s.json()}async logout(){await fetch("/api/auth/logout",{method:"POST"})}async getResources(){const t=await fetch("/api/resources");return t.ok?await t.json():[]}async addResource(t){if(!(await fetch("/api/resources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Erreur upload");return this.getResources()}async deleteResource(t){if(!(await fetch(`/api/resources/${t}`,{method:"DELETE"})).ok)throw new Error("Erreur suppression");return this.getResources()}async getStudents(){const t=await fetch("/api/users/students");return t.ok?await t.json():[]}async getStats(){const t=await fetch("/api/stats");return t.ok?await t.json():{studentCount:0,resourceCount:0,liveHours:0,successRate:"0%"}}async getForumPosts(){const t=await fetch("/api/forum");return t.ok?await t.json():[]}async createForumPost(t,n){if(!(await fetch("/api/forum/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,content:n})})).ok)throw new Error("Erreur post forum")}async deleteForumPost(t){if(!(await fetch(`/api/forum/posts/${t}`,{method:"DELETE"})).ok)throw new Error("Erreur suppression post")}async createForumAnswer(t,n){if(!(await fetch("/api/forum/answers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:t,content:n})})).ok)throw new Error("Erreur rponse forum")}}const K=new xy,js=({resource:e,onClose:t})=>{if(!e)return null;const n=()=>{if(e.url){const r=document.createElement("a");r.href=e.url,r.download=`${e.title}`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"relative w-full max-w-5xl bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden max-h-[90vh]",children:[o.jsxs("div",{className:"shrink-0 flex items-center justify-between p-4 border-b border-gray-100 bg-white z-20 relative shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[o.jsx("div",{className:`p-2 rounded-lg ${e.type==="VIDEO"?"bg-purple-50 text-purple-600":e.type==="IMAGE"?"bg-blue-50 text-blue-600":"bg-red-50 text-red-600"}`,children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h3",{className:"font-bold text-gray-900 truncate pr-4",children:e.title})]}),o.jsxs("div",{className:"flex gap-2 shrink-0",children:[o.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-bold bg-brand-50 hover:bg-brand-100 text-brand-600 rounded-lg transition-colors",title:"Tlcharger",children:[o.jsx(Fh,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]}),o.jsx("button",{onClick:t,className:"p-2 bg-gray-100 hover:bg-red-100 text-gray-500 hover:text-red-500 rounded-lg transition-colors",children:o.jsx(tt,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"flex-1 bg-black flex items-center justify-center p-0 overflow-hidden relative min-h-[300px]",children:e.type==="VIDEO"&&e.url?o.jsxs("video",{controls:!0,autoPlay:!0,className:"max-w-full max-h-full w-auto h-auto object-contain",children:[o.jsx("source",{src:e.url}),"Votre navigateur ne supporte pas la lecture de vidos."]}):e.type==="IMAGE"&&e.url?o.jsx("div",{className:"w-full h-full flex items-center justify-center p-4 bg-gray-100/50",children:o.jsx("img",{src:e.url,alt:e.title,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):e.type==="PDF"&&e.url?o.jsx("iframe",{src:e.url,className:"w-full h-full bg-white",title:"PDF Viewer"}):o.jsxs("div",{className:"text-center p-10 bg-white w-full h-full flex flex-col items-center justify-center",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"Prvisualisation non disponible pour ce type de fichier."}),o.jsx("button",{onClick:n,className:"px-6 py-3 bg-bac-blue text-white rounded-xl font-bold hover:bg-sky-700 transition-colors",children:"Tlcharger le fichier"})]})})]})})},yy=({user:e,onRequireAuth:t})=>{const n=gr(),[r,s]=x.useState([]),[i,a]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState(!0),[f,h]=x.useState({students:0,successRate:"N/A",liveHours:0});x.useEffect(()=>{(async()=>{d(!0);try{const y=await K.getResources(),C=y.filter(w=>w.type==="VIDEO");s(C.slice(0,4));const p=y.filter(w=>w.type==="FOLDER"&&w.category==="COURS"&&!w.parentId).map(w=>({id:w.id,title:w.title,description:w.description||"Aucune description",thumbnail:w.url||"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=800&auto=format&fit=crop",instructor:"Mr. Dhafer",students:0,modules:y.filter(_=>_.parentId===w.id).length,tags:["Physique"]}));a(p);const m=await K.getStats();h({students:m.studentCount,successRate:m.successRate,liveHours:m.liveHours})}catch(y){console.error(y)}finally{d(!1)}})()},[]);const v=()=>{n("/live")};return o.jsxs("div",{className:"space-y-24 pb-20 animate-[fadeIn_0.5s_ease-out]",children:[o.jsxs("div",{className:"relative pt-8 md:pt-16 pb-12",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-bac-light/10 rounded-full blur-[120px] -z-10 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[400px] bg-bac-blue/5 rounded-full blur-[100px] -z-10 pointer-events-none"}),o.jsxs("div",{className:"text-center max-w-4xl mx-auto space-y-8",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white border border-brand-100 shadow-sm text-bac-blue text-sm font-semibold mb-4 animate-float",children:[o.jsx(qh,{className:"w-4 h-4 text-bac-light"}),o.jsx("span",{children:"La plateforme n1 pour le Bac en Tunisie"})]}),o.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight font-serif text-bac-blue leading-tight",children:e?o.jsxs(o.Fragment,{children:[e.role==="TEACHER"?"Tableau de Bord":"Mon Espace"," ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-bac-light to-bac-blue",children:"Personnel"})]}):o.jsxs(o.Fragment,{children:["L'Excellence en ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-bac-light to-bac-blue",children:"Sciences Physiques"})]})}),o.jsx("p",{className:"text-lg md:text-xl text-brand-600 max-w-2xl mx-auto leading-relaxed",children:e?e.role==="TEACHER"?"Pilotez votre classe virtuelle, analysez les performances et inspirez la prochaine gnration de scientifiques.":"Reprenez votre progression l o vous l'avez laisse et prparez-vous efficacement.":"Bienvenue sur la nouvelle plateforme de rfrence pour les sciences physiques. Inscrivez-vous pour accder au contenu exclusif."}),o.jsx("div",{className:"flex flex-wrap justify-center gap-4 pt-4",children:e?e.role==="TEACHER"?o.jsxs("button",{onClick:v,className:"px-8 py-4 bg-red-600 hover:bg-red-700 text-white rounded-2xl font-bold shadow-xl shadow-red-500/30 transition-all hover:scale-105 flex items-center gap-2",children:[o.jsx(wt,{className:"w-5 h-5"}),"Lancer un Live"]}):o.jsx("button",{onClick:()=>n("/courses"),className:"px-8 py-4 bg-bac-blue hover:bg-sky-800 text-white rounded-2xl font-bold shadow-xl shadow-bac-blue/20 transition-all hover:scale-105",children:"Reprendre les cours"}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:t,className:"px-8 py-4 bg-bac-blue hover:bg-sky-800 text-white rounded-2xl font-bold shadow-xl shadow-bac-blue/20 transition-all hover:scale-105 flex items-center gap-2",children:["Commencer maintenant",o.jsx(Qa,{className:"w-5 h-5"})]}),o.jsxs("button",{onClick:()=>n("/courses"),className:"px-8 py-4 bg-white border border-brand-200 text-bac-blue hover:bg-brand-50 rounded-2xl font-bold transition-all flex items-center gap-2 hover:shadow-lg",children:[o.jsx(ms,{className:"w-5 h-5"}),"Voir les cours"]})]})})]}),o.jsx("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto px-4",children:[{icon:zx,label:"lves Inscrits",value:f.students.toString(),color:"text-bac-light",border:"group-hover:border-bac-light"},{icon:ly,label:"Taux de russite",value:f.successRate,color:"text-emerald-500",border:"group-hover:border-emerald-400"},{icon:Ah,label:"Sances Live",value:`+${f.liveHours}h`,color:"text-purple-500",border:"group-hover:border-purple-400"}].map((b,y)=>o.jsxs("div",{className:`group bg-white/60 backdrop-blur-md border border-white/50 p-6 rounded-3xl flex items-center gap-5 transition-all duration-300 hover:-translate-y-1 shadow-lg shadow-brand-900/5 hover:shadow-xl border-l-4 ${b.border}`,children:[o.jsx("div",{className:`p-3 rounded-2xl bg-white shadow-sm ${b.color}`,children:o.jsx(b.icon,{className:"w-8 h-8"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-brand-400 uppercase tracking-wider",children:b.label}),o.jsx("p",{className:"text-3xl font-black text-bac-blue mt-0.5",children:b.value})]})]},y))})]}),r.length>0&&o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(wt,{className:"w-6 h-6 text-purple-600"}),o.jsx("h2",{className:"text-3xl font-bold text-brand-900 font-serif",children:"Dernires Vidos Ajoutes"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(b=>o.jsxs("div",{onClick:()=>e?c(b):t(),className:"group bg-white border border-brand-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer",children:[o.jsxs("div",{className:"aspect-video bg-gray-100 relative flex items-center justify-center",children:[b.thumbnail?o.jsx("img",{src:b.thumbnail,className:"w-full h-full object-cover group-hover:opacity-90 transition-opacity",alt:b.title}):o.jsx("video",{src:b.url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-transparent transition-colors",children:o.jsx("div",{className:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center text-purple-600 shadow-lg group-hover:scale-110 transition-transform",children:o.jsx(co,{className:"w-6 h-6 fill-current"})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-brand-900 line-clamp-1 mb-1",children:b.title}),o.jsx("p",{className:"text-xs text-brand-500 line-clamp-2",children:b.description||"Vido explicative"}),o.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-bold text-purple-500 bg-purple-50 px-2 py-1 rounded-md uppercase",children:"Vido"}),o.jsx("span",{className:"text-xs text-gray-400",children:b.date})]})]})]},b.id))})]}),o.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[o.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-bac-blue to-bac-light opacity-5 rounded-[3rem] -z-10 rotate-1"}),o.jsxs("div",{className:"bg-white border border-brand-100 rounded-[2.5rem] p-8 md:p-12 flex flex-col md:flex-row items-center gap-12 shadow-2xl shadow-brand-900/5 overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-bac-light/10 rounded-full translate-x-1/3 -translate-y-1/3"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-bac-blue/5 rounded-full -translate-x-1/3 translate-y-1/3"}),o.jsxs("div",{className:"relative shrink-0 w-64 h-64 md:w-80 md:h-80 group cursor-pointer",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-bac-blue to-bac-light rounded-full blur-[20px] opacity-0 group-hover:opacity-40 transition-opacity duration-500"}),o.jsx("img",{src:"/teacher.jpg",alt:"Mr. Dhafer Bahroun",className:"relative w-full h-full object-cover rounded-full border-4 border-white shadow-2xl z-10 transition-transform duration-500 group-hover:scale-[1.02]"}),o.jsxs("div",{className:"absolute bottom-4 right-0 bg-white shadow-lg border border-brand-100 px-6 py-3 rounded-2xl z-20 flex flex-col items-center animate-[bounce_3s_infinite]",children:[o.jsx("span",{className:"text-2xl font-black text-bac-blue",children:"20+"}),o.jsx("span",{className:"text-[10px] text-brand-500 uppercase font-bold tracking-widest",children:"Ans d'Exp."})]})]}),o.jsxs("div",{className:"text-center md:text-left z-10 flex-1",children:[o.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-bac-blue/10 text-bac-blue text-sm font-bold mb-4",children:"Professeur Principal"}),o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-bac-blue mb-4 font-serif",children:"Mr. Dhafer Bahroun"}),o.jsxs("p",{className:"text-lg font-medium text-bac-light mb-6 flex items-center justify-center md:justify-start gap-2",children:[o.jsx(Qh,{className:"w-5 h-5 fill-current"})," Expert en Pdagogie des Sciences"]}),o.jsx("p",{className:"text-brand-600 leading-relaxed mb-8 text-lg",children:`"La physique n'est pas qu'une suite de formules, c'est une faon de voir le monde. Mon objectif est de rendre chaque concept limpide et chaque problme surmontable. Ensemble, nous transformerons votre apprhension en passion et vos efforts en russite."`}),o.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-3",children:["Mcanique & Cinmatique","lectromagntisme","Thermodynamique","Ondes"].map(b=>o.jsx("span",{className:"px-4 py-2 bg-brand-50 rounded-xl text-sm font-semibold text-brand-600 border border-brand-100 hover:border-bac-light hover:text-bac-blue transition-colors cursor-default",children:b},b))})]})]})]}),o.jsxs("div",{className:"space-y-8 pt-10 border-t border-brand-100",children:[o.jsxs("div",{className:"flex justify-between items-end px-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-bac-blue font-serif mb-2",children:(e==null?void 0:e.role)==="TEACHER"?"Vos Cours Actifs":"Cours du Professeur"}),o.jsx("p",{className:"text-brand-500",children:"Dcouvrez les modules prpars pour vous."})]}),o.jsxs(Ih,{to:"/courses",className:"px-5 py-2.5 rounded-xl bg-white border border-brand-200 text-bac-blue font-bold hover:bg-bac-blue hover:text-white transition-all shadow-sm flex items-center gap-2",children:["Tout voir ",o.jsx(Qa,{className:"w-4 h-4"})]})]}),u?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.length===0?o.jsx("div",{className:"col-span-full text-center py-10 bg-brand-50 rounded-2xl border border-brand-100 text-brand-400",children:"Aucun cours disponible pour le moment."}):i.slice(0,3).map(b=>o.jsx(Yh,{course:b,onClick:()=>n("/courses")},b.id))})]}),o.jsx(js,{resource:l,onClose:()=>c(null)})]})},vy=({user:e,onRequireAuth:t})=>{const[n,r]=x.useState(""),[s,i]=x.useState([]),[a,l]=x.useState(!0),[c,u]=x.useState(!1),[d,f]=x.useState(""),[h,v]=x.useState(""),[b,y]=x.useState(null),[C,g]=x.useState(!1),[p,m]=x.useState(null),[w,_]=x.useState(null);x.useEffect(()=>{k()},[]);const k=async()=>{l(!0);try{const S=await K.getResources();i(S)}catch(S){console.error(S)}finally{l(!1)}},N=async S=>{if(S.preventDefault(),!d)return;g(!0);const F={id:"course-"+Date.now(),title:d,description:h,type:"FOLDER",category:"COURS",date:new Date().toISOString().split("T")[0],url:b||void 0};try{await K.addResource(F),await k(),u(!1),f(""),v(""),y(null)}catch(J){console.error(J)}finally{g(!1)}},E=S=>{if(S.target.files&&S.target.files[0]){const F=new FileReader;F.onload=J=>{var ce;(ce=J.target)!=null&&ce.result&&y(J.target.result)},F.readAsDataURL(S.target.files[0])}},D=S=>{if(!e){t();return}_(S)},M=s.filter(S=>S.type==="FOLDER"&&S.category==="COURS"&&!S.parentId),H=p?s.filter(S=>S.parentId===p):[],Q=M.filter(S=>S.title.toLowerCase().includes(n.toLowerCase()));if(p){const S=s.find(F=>F.id===p);return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 animate-[fadeIn_0.3s_ease-out]",children:[o.jsxs("button",{onClick:()=>m(null),className:"flex items-center gap-2 text-brand-500 hover:text-bac-blue transition-colors font-bold mb-4",children:[o.jsx(Ka,{className:"w-5 h-5"}),"Retour aux cours"]}),o.jsx("div",{className:"bg-white rounded-3xl border border-brand-200 overflow-hidden shadow-sm",children:o.jsxs("div",{className:"aspect-[21/9] relative bg-brand-900",children:[(S==null?void 0:S.url)&&o.jsx("img",{src:S.url,alt:S.title,className:"w-full h-full object-cover opacity-60"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 p-8 md:p-12 text-white",children:[o.jsx("div",{className:"inline-block px-3 py-1 bg-bac-blue rounded-lg text-xs font-bold uppercase tracking-wider mb-3",children:"Cours"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold font-serif mb-4",children:S==null?void 0:S.title}),o.jsx("p",{className:"text-lg text-gray-200 max-w-3xl",children:S==null?void 0:S.description})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsxs("h2",{className:"text-2xl font-bold text-brand-900 mb-6 flex items-center gap-2",children:[o.jsx(ms,{className:"w-6 h-6 text-bac-blue"}),"Contenu du Chapitre"]}),H.length===0?o.jsx("div",{className:"text-center py-12 bg-white rounded-3xl border border-brand-100 text-brand-400",children:"Ce cours ne contient encore aucun fichier."}):H.map(F=>o.jsxs("div",{className:"group flex items-center justify-between p-4 bg-white border border-brand-200 rounded-2xl hover:border-bac-blue/50 hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl ${F.type==="VIDEO"?"bg-purple-50 text-purple-600":"bg-red-50 text-red-600"}`,children:F.type==="VIDEO"?o.jsx(co,{className:"w-6 h-6"}):o.jsx(Rn,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-brand-900 group-hover:text-bac-blue transition-colors",children:F.title}),o.jsxs("p",{className:"text-sm text-brand-500",children:[F.type,"  ",F.size||"Fichier"]})]})]}),o.jsx("button",{onClick:()=>D(F),className:"px-4 py-2 bg-brand-50 hover:bg-bac-blue hover:text-white text-brand-600 rounded-xl font-bold text-sm transition-colors flex items-center gap-2",children:F.type==="VIDEO"||F.type==="PDF"?o.jsxs(o.Fragment,{children:[o.jsx(dc,{className:"w-4 h-4"}),"Ouvrir"]}):o.jsxs(o.Fragment,{children:[o.jsx(Fh,{className:"w-4 h-4"}),"Tlcharger"]})})]},F.id))]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-brand-200 shadow-sm sticky top-24",children:[o.jsx("h3",{className:"font-bold text-brand-900 mb-4",children:"Informations"}),o.jsxs("div",{className:"space-y-4 text-sm text-brand-600",children:[o.jsxs("div",{className:"flex justify-between py-2 border-b border-brand-50",children:[o.jsx("span",{children:"Chapitres/Fichiers"}),o.jsx("span",{className:"font-bold text-brand-900",children:H.length})]}),o.jsxs("div",{className:"flex justify-between py-2 border-b border-brand-50",children:[o.jsx("span",{children:"Dernire mise  jour"}),o.jsx("span",{className:"font-bold text-brand-900",children:S==null?void 0:S.date})]})]})]})})]}),o.jsx(js,{resource:w,onClose:()=>_(null)})]})}return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-[fadeIn_0.5s_ease-out]",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-brand-900 font-serif flex items-center gap-3",children:[o.jsx(ms,{className:"w-8 h-8 text-bac-blue"}),"Catalogue des Cours"]}),o.jsx("p",{className:"text-brand-500 mt-1",children:"Accdez  vos modules de physique et chimie."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(qu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-brand-400"}),o.jsx("input",{type:"text",placeholder:"Rechercher un cours...",className:"pl-10 pr-4 py-2.5 bg-white border border-brand-200 rounded-xl text-brand-900 placeholder-brand-400 focus:outline-none focus:border-bac-blue w-64 focus:ring-1 focus:ring-bac-blue shadow-sm transition-all focus:w-72",value:n,onChange:S=>r(S.target.value)})]}),(e==null?void 0:e.role)==="TEACHER"&&o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-medium transition-colors shadow-md shadow-bac-blue/20",children:[o.jsx(Vh,{className:"w-4 h-4"}),o.jsx("span",{children:"Ajouter Cours"})]})]})]}),a?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Q.map(S=>{const F={id:S.id,title:S.title,description:S.description||"",thumbnail:S.url||"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=800&auto=format&fit=crop",instructor:"Mr. Dhafer",students:0,modules:s.filter(J=>J.parentId===S.id).length,tags:["Physique"]};return o.jsx(Yh,{course:F,onClick:()=>m(S.id)},S.id)}),Q.length===0&&o.jsxs("div",{className:"col-span-full text-center py-20 text-brand-400 flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-brand-100 rounded-full flex items-center justify-center",children:o.jsx(qu,{className:"w-8 h-8 text-brand-300"})}),o.jsxs("p",{children:["Aucun cours trouv. ",(e==null?void 0:e.role)==="TEACHER"?"Crez-en un !":""]})]})]}),c&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-900/50 backdrop-blur-sm p-4 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl border border-brand-100 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-brand-900",children:"Nouveau Cours"}),o.jsx("button",{onClick:()=>u(!1),children:o.jsx(Ka,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Titre du Cours"}),o.jsx("input",{type:"text",required:!0,value:d,onChange:S=>f(S.target.value),placeholder:"Ex: Mcanique Quantique",className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue",disabled:C})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Description"}),o.jsx("textarea",{value:h,onChange:S=>v(S.target.value),placeholder:"Description brve du module...",className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue h-20 resize-none",disabled:C})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Miniature (Optionnel)"}),o.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-bac-blue file:text-white hover:file:bg-sky-700"})]}),o.jsx("button",{type:"submit",disabled:C,className:"w-full py-3 bg-bac-blue text-white rounded-xl font-bold mt-4 flex justify-center disabled:opacity-70",children:C?o.jsx(ie,{className:"w-5 h-5 animate-spin"}):"Crer le Cours"})]})]})})]})};class by{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return wy(t).buffer}}function wy(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e){const i=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(i,r),r+=s.byteLength}return n}function Jh(e){return new ky(e).unpack()}function Xh(e){const t=new Cy,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class ky{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,s="",i,a;for(;r<t;)i=n[r],i<160?(a=i,r++):(i^192)<32?(a=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(a=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(a=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(a);return this.index+=t,s}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,s=t&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,s=(t>>20&2047)-1023,a=(t&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*a}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class Cy{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const i=this.pack(t[s]);return i instanceof Promise?i.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),s=t/2**r-1,i=Math.floor(s*2**52),a=2**32,l=n<<31|r+1023<<20|i/a&1048575,c=i%a;this._bufferBuilder.append(203),this.pack_int32(l),this.pack_int32(c)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=i=>{if(i<n.length){const a=n[i];if(t.hasOwnProperty(a)){this.pack(a);const l=this.pack(t[a]);if(l instanceof Promise)return l.then(()=>s(i+1))}return s(i+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new by,this._textEncoder=new TextEncoder}}let Zh=!0,ep=!0;function Ir(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Mn(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(a,l){if(a!==t)return s.apply(this,arguments);const c=u=>{const d=n(u);d&&(l.handleEvent?l.handleEvent(d):l(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,c),s.apply(this,[a,c])};const i=r.removeEventListener;r.removeEventListener=function(a,l){if(a!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(l))return i.apply(this,arguments);const c=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[a,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function jy(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Zh=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function _y(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(ep=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function tp(){if(typeof window=="object"){if(Zh)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function gc(e,t){ep&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Sy(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Ir(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Ir(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Ir(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Ir(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function Qu(e){return Object.prototype.toString.call(e)==="[object Object]"}function np(e){return Qu(e)?Object.keys(e).reduce(function(t,n){const r=Qu(e[n]),s=r?np(e[n]):e[n],i=r&&!Object.keys(s).length;return s===void 0||i?t:Object.assign(t,{[n]:s})},{}):e}function Ga(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Ga(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{Ga(e,e.get(s),n)})}))}function Gu(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const i=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&i.push(a)}),i.forEach(a=>{e.forEach(l=>{l.type===r&&l.trackId===a.id&&Ga(e,l,s)})}),s}const Yu=tp;function rp(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const c={};return Object.keys(l).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const d=typeof l[u]=="object"?l[u]:{ideal:l[u]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,v){return h?h+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(d.ideal!==void 0){c.optional=c.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",u)]=d.ideal,c.optional.push(h),h={},h[f("max",u)]=d.ideal,c.optional.push(h)):(h[f("",u)]=d.ideal,c.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",u)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(h,u)]=d[h])})}),l.advanced&&(c.optional=(c.optional||[]).concat(l.advanced)),c},s=function(l,c){if(t.version>=61)return c(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const u=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};l=JSON.parse(JSON.stringify(l)),u(l.audio,"autoGainControl","googAutoGainControl"),u(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let u=l.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const d=t.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete l.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(b=>b.kind==="videoinput");let v=h.find(b=>f.some(y=>b.label.toLowerCase().includes(y)));return!v&&h.length&&f.includes("back")&&(v=h[h.length-1]),v&&(l.video.deviceId=u.exact?{exact:v.deviceId}:{ideal:v.deviceId}),l.video=r(l.video),Yu("chrome: "+JSON.stringify(l)),c(l)})}l.video=r(l.video)}return Yu("chrome: "+JSON.stringify(l)),c(l)},i=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(l,c,u){s(l,d=>{n.webkitGetUserMedia(d,c,f=>{u&&u(i(f))})})};if(n.getUserMedia=a.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return s(c,u=>l(u).then(d=>{if(u.audio&&!d.getAudioTracks().length||u.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(i(d))))}}}function sp(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ip(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(l=>l.track&&l.track.id===s.track.id):i={track:s.track};const a=new Event("track");a.track=s.track,a.receiver=i,a.transceiver={receiver:i},a.streams=[r.stream],this.dispatchEvent(a)}),r.stream.getTracks().forEach(s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(l=>l.track&&l.track.id===s.id):i={track:s};const a=new Event("track");a.track=s,a.receiver=i,a.transceiver={receiver:i},a.streams=[r.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Mn(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function op(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,c){let u=s.apply(this,arguments);return u||(u=t(this,l),this._senders.push(u)),u};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){i.apply(this,arguments);const c=this._senders.indexOf(l);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(a=>{this._senders.push(t(this,a))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(a=>{const l=this._senders.find(c=>c.track===a);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ap(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(a=>a._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>Gu(a,i.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),Mn(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>Gu(i,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let s,i,a;return this.getSenders().forEach(l=>{l.track===r&&(s?a=!0:s=l)}),this.getReceivers().forEach(l=>(l.track===r&&(i?a=!0:i=l),l.track===r)),a||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function lp(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(c)===-1&&this._shimmedLocalStreams[l.id].push(c):this._shimmedLocalStreams[l.id]=[l,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(u=>l.indexOf(u)===-1);this._shimmedLocalStreams[a.id]=[a].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const c=this._shimmedLocalStreams[l].indexOf(a);c!==-1&&this._shimmedLocalStreams[l].splice(c,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),s.apply(this,arguments)}}function cp(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return lp(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(v=>v.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new e.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},e.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(y=>y===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const b=this._streams[f.id];if(b)b.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new e.MediaStream([d]);this._streams[f.id]=y,this._reverseStreams[y.id]=f,this.addStream(y)}return this.getSenders().find(y=>y.track===d)};function i(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const v=u._reverseStreams[h],b=u._streams[v.id];f=f.replace(new RegExp(b.id,"g"),v.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function a(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const v=u._reverseStreams[h],b=u._streams[v.id];f=f.replace(new RegExp(v.id,"g"),b.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const d=e.RTCPeerConnection.prototype[u],f={[u](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[b=>{const y=i(this,b);h[0].apply(null,[y])},b=>{h[1]&&h[1].apply(null,b)},arguments[2]]):d.apply(this,arguments).then(b=>i(this,b))}};e.RTCPeerConnection.prototype[u]=f[u]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=a(this,arguments[0]),l.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const u=c.get.apply(this);return u.type===""?u:i(this,u)}}),e.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(y=>d.track===y)&&(h=this._streams[v])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Ya(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function up(e,t){Mn(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Ju=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:up,shimAddTrackRemoveTrack:cp,shimAddTrackRemoveTrackWithNative:lp,shimGetSendersWithDtmf:op,shimGetUserMedia:rp,shimMediaStream:sp,shimOnTrack:ip,shimPeerConnection:Ya,shimSenderReceiverGetStats:ap},Symbol.toStringTag,{value:"Module"}));function dp(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,i,a){gc("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,a)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(a,l,c){l in a&&!(c in a)&&(a[c]=a[l],delete a[l])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a.audio,"autoGainControl","mozAutoGainControl"),s(a.audio,"noiseSuppression","mozNoiseSuppression")),i(a)},r&&r.prototype.getSettings){const a=r.prototype.getSettings;r.prototype.getSettings=function(){const l=a.apply(this,arguments);return s(l,"mozAutoGainControl","autoGainControl"),s(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),s(l,"autoGainControl","mozAutoGainControl"),s(l,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[l])}}}}function Ny(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function fp(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ja(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=e.RTCPeerConnection.prototype[s],a={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=a[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[i,a,l]=arguments;return r.apply(this,[i||null]).then(c=>{if(t.version<53&&!a)try{c.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;c.forEach((d,f)=>{c.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return c}).then(a,l)}}function hp(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function pp(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Mn(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function mp(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){gc("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function gp(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function xp(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(s){const{sender:a}=i,l=a.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r,a.sendEncodings=r,this.setParametersPromises.push(a.setParameters(l).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return i})}function yp(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function vp(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function bp(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Xu=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:xp,shimCreateAnswer:bp,shimCreateOffer:vp,shimGetDisplayMedia:Ny,shimGetParameters:yp,shimGetUserMedia:dp,shimOnTrack:fp,shimPeerConnection:Ja,shimRTCDataChannel:gp,shimReceiverGetStats:pp,shimRemoveStream:mp,shimSenderGetStats:hp},Symbol.toStringTag,{value:"Module"}));function wp(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>t.call(this,s,r)),r.getVideoTracks().forEach(s=>t.call(this,s,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function kp(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,r.dispatchEvent(a)})}),t.apply(r,arguments)}}}function Cp(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h},t.createAnswer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h};let l=function(c,u,d){const f=s.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f};t.setLocalDescription=l,l=function(c,u,d){const f=i.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f},t.setRemoteDescription=l,l=function(c,u,d){const f=a.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f},t.addIceCandidate=l}function jp(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r(_p(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,s,i){t.mediaDevices.getUserMedia(r).then(s,i)}).bind(t))}function _p(e){return e&&e.video!==void 0?Object.assign({},e,{video:np(e.video)}):e}function Sp(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let a=0;a<r.iceServers.length;a++){let l=r.iceServers[a];l.urls===void 0&&l.url?(gc("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,i.push(l)):i.push(r.iceServers[a])}r.iceServers=i}return new t(r,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Np(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ep(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(a=>a.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Rp(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Zu=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Rp,shimCallbacksAPI:Cp,shimConstraints:_p,shimCreateOfferLegacy:Ep,shimGetUserMedia:jp,shimLocalStreamsAPI:wp,shimRTCIceServerUrls:Sp,shimRemoteStreamsAPI:kp,shimTrackEventTransceiver:Np},Symbol.toStringTag,{value:"Module"}));var Tp={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let a=0;a<i.length;a++)s=i[a].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(a=>{n.parameters[a]!==void 0?i.push(a+"="+n.parameters[a]):i.push(a)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n)[0].split(" ");r.profile=i[2];for(let l=3;l<i.length;l++){const c=i[l],u=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(u){const d=t.parseRtpMap(u),f=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(d.parameters=f.length?t.parseFmtp(f[0]):{},d.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(l=>{r.headerExtensions.push(t.parseExtmap(l))});const a=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(l=>{a.forEach(c=>{l.rtcpFeedback.find(d=>d.type===c.type&&d.parameter===c.parameter)||l.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(a=>{s+=t.writeRtpMap(a),s+=t.writeFmtp(a),s+=t.writeRtcpFb(a)});let i=0;return r.codecs.forEach(a=>{a.maxptime>i&&(i=a.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(a=>{s+=t.writeExtmap(a)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,a=s.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),c=l.length>0&&l[0].ssrc;let u;const d=t.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(b=>parseInt(b,10)));d.length>0&&d[0].length>1&&d[0][0]===c&&(u=d[0][1]),s.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let v={ssrc:c,codecPayloadType:parseInt(h.parameters.apt,10)};c&&u&&(v.rtx={ssrc:u}),r.push(v),i&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(v))}}),r.length===0&&c&&r.push({ssrc:c});let f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(l=>t.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const a=t.matchPrefix(n,"a=rtcp-mux");return r.mux=a.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const a=t.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){const c=l[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let i;const a=r!==void 0?r:2;return n?i=n:i=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const s=t.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(n){const s=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(Tp);var Pp=Tp.exports;const nr=ud(Pp),Ey=cd({__proto__:null,default:nr},[Pp]);function ri(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new t(r),i=nr.parseCandidate(r.candidate);for(const a in i)a in s||Object.defineProperty(s,a,{value:i[a]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Mn(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Xa(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Mn(e,"icecandidate",t=>{if(t.candidate){const n=nr.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function si(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const c=nr.splitSections(l.sdp);return c.shift(),c.some(u=>{const d=nr.parseMLine(u);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(l){const c=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!==u?-1:u},s=function(l){let c=65536;return t.browser==="firefox"&&(t.version<57?l===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},i=function(l,c){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const d=nr.matchPrefix(l.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(u=2147483637),u},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),u=s(c),d=i(arguments[0],c);let f;u===0&&d===0?f=Number.POSITIVE_INFINITY:u===0||d===0?f=Math.max(u,d):f=Math.min(u,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return a.apply(this,arguments)}}function ii(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const i=r.send;r.send=function(){const l=arguments[0],c=l.length||l.size||l.byteLength;if(r.readyState==="open"&&s.sctp&&c>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return t(s,this),s},Mn(e,"datachannel",r=>(t(r.channel,r.target),r))}function Za(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const a=new Event("connectionstatechange",s);i.dispatchEvent(a)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function el(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function oi(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ai(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>n.apply(this,[a]))})}const Ry=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:el,shimAddIceCandidateNullOrEmpty:oi,shimConnectionState:Za,shimMaxMessageSize:si,shimParameterlessSetLocalDescription:ai,shimRTCIceCandidate:ri,shimRTCIceCandidateRelayProtocol:Xa,shimSendThrowTypeError:ii},Symbol.toStringTag,{value:"Module"}));function Ty({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=tp,r=Sy(e),s={browserDetails:r,commonShim:Ry,extractVersion:Ir,disableLog:jy,disableWarnings:_y,sdp:Ey};switch(r.browser){case"chrome":if(!Ju||!Ya||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=Ju,oi(e,r),ai(e),rp(e,r),sp(e),Ya(e,r),ip(e),cp(e,r),op(e),ap(e),up(e,r),ri(e),Xa(e),Za(e),si(e,r),ii(e),el(e,r);break;case"firefox":if(!Xu||!Ja||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=Xu,oi(e,r),ai(e),dp(e,r),Ja(e,r),fp(e),mp(e),hp(e),pp(e),gp(e),xp(e),yp(e),vp(e),bp(e),ri(e),Za(e),si(e,r),ii(e);break;case"safari":if(!Zu||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=Zu,oi(e,r),ai(e),Sp(e),Ep(e),Cp(e),wp(e),kp(e),Np(e),jp(e),Rp(e),ri(e),Xa(e),si(e,r),ii(e),el(e,r);break;default:n("Unsupported browser!");break}return s}const ed=Ty({window:typeof window>"u"?void 0:window});function In(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class Lp{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,s=Math.ceil(r/this.chunkedMTU);let i=0,a=0;for(;a<r;){const l=Math.min(r,a+this.chunkedMTU),c=t.slice(a,l),u={__peerData:this._dataCount,n:i,data:c,total:s};n.push(u),a=l,i++}return this._dataCount++,n}}}function Py(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.byteLength;return n}const qo=ed.default||ed,Rr=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return qo.browserDetails.browser}getVersion(){return qo.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=qo.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Ly=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),Op=()=>Math.random().toString(36).slice(2),td={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Oy extends Lp{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=td,this.browser=Rr.getBrowser(),this.browserVersion=Rr.getVersion(),this.pack=Xh,this.unpack=Jh,this.supports=function(){const n={browser:Rr.isBrowserSupported(),webRTC:Rr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(td),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!Rr.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=Ly,this.randomToken=Op}}const De=new Oy,My="PeerJS: ";class Iy{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[My,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var O=new Iy,xc={},Dy=Object.prototype.hasOwnProperty,Oe="~";function ys(){}Object.create&&(ys.prototype=Object.create(null),new ys().__proto__||(Oe=!1));function Ay(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Mp(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new Ay(n,r||e,s),a=Oe?Oe+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function li(e,t){--e._eventsCount===0?e._events=new ys:delete e._events[t]}function Te(){this._events=new ys,this._eventsCount=0}Te.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)Dy.call(n,r)&&t.push(Oe?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Te.prototype.listeners=function(t){var n=Oe?Oe+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,a=new Array(i);s<i;s++)a[s]=r[s].fn;return a};Te.prototype.listenerCount=function(t){var n=Oe?Oe+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Te.prototype.emit=function(t,n,r,s,i,a){var l=Oe?Oe+t:t;if(!this._events[l])return!1;var c=this._events[l],u=arguments.length,d,f;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,s),!0;case 5:return c.fn.call(c.context,n,r,s,i),!0;case 6:return c.fn.call(c.context,n,r,s,i,a),!0}for(f=1,d=new Array(u-1);f<u;f++)d[f-1]=arguments[f];c.fn.apply(c.context,d)}else{var h=c.length,v;for(f=0;f<h;f++)switch(c[f].once&&this.removeListener(t,c[f].fn,void 0,!0),u){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,n);break;case 3:c[f].fn.call(c[f].context,n,r);break;case 4:c[f].fn.call(c[f].context,n,r,s);break;default:if(!d)for(v=1,d=new Array(u-1);v<u;v++)d[v-1]=arguments[v];c[f].fn.apply(c[f].context,d)}}return!0};Te.prototype.on=function(t,n,r){return Mp(this,t,n,r,!1)};Te.prototype.once=function(t,n,r){return Mp(this,t,n,r,!0)};Te.prototype.removeListener=function(t,n,r,s){var i=Oe?Oe+t:t;if(!this._events[i])return this;if(!n)return li(this,i),this;var a=this._events[i];if(a.fn)a.fn===n&&(!s||a.once)&&(!r||a.context===r)&&li(this,i);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==n||s&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[i]=c.length===1?c[0]:c:li(this,i)}return this};Te.prototype.removeAllListeners=function(t){var n;return t?(n=Oe?Oe+t:t,this._events[n]&&li(this,n)):(this._events=new ys,this._eventsCount=0),this};Te.prototype.off=Te.prototype.removeListener;Te.prototype.addListener=Te.prototype.on;Te.prefixed=Oe;Te.EventEmitter=Te;xc=Te;var Dn={};In(Dn,"ConnectionType",()=>on);In(Dn,"PeerErrorType",()=>he);In(Dn,"BaseConnectionErrorType",()=>tl);In(Dn,"DataConnectionErrorType",()=>yc);In(Dn,"SerializationType",()=>uo);In(Dn,"SocketEventType",()=>Gt);In(Dn,"ServerMessageType",()=>Ne);var on=function(e){return e.Data="data",e.Media="media",e}({}),he=function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e}({}),tl=function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e}({}),yc=function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e}({}),uo=function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e}({}),Gt=function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e}({}),Ne=function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e}({});const Ip="1.5.5";class zy extends xc.EventEmitter{constructor(t,n,r,s,i,a=5e3){super(),this.pingInterval=a,this._disconnected=!0,this._messagesQueue=[];const l=t?"wss://":"ws://";this._baseUrl=l+n+":"+r+s+"peerjs?key="+i}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Ip),this._disconnected=!1,this._socket.onmessage=s=>{let i;try{i=JSON.parse(s.data),O.log("Server message received:",i)}catch{O.log("Invalid server message",s.data);return}this.emit(Gt.Message,i)},this._socket.onclose=s=>{this._disconnected||(O.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(Gt.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),O.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){O.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:Ne.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Gt.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Dp{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===on.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,s={ordered:!!t.reliable},i=n.createDataChannel(r.label,s);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){O.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,i=this.connection.provider;O.log("Listening for ICE candidates."),t.onicecandidate=a=>{!a.candidate||!a.candidate.candidate||(O.log(`Received ICE candidates for ${n}:`,a.candidate),i.socket.send({type:Ne.Candidate,payload:{candidate:a.candidate,type:s,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":O.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(tl.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":O.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(tl.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":O.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},O.log("Listening for data channel"),t.ondatachannel=a=>{O.log("Received data channel");const l=a.channel;i.getConnection(n,r)._initializeDataChannel(l)},O.log("Listening for remote stream"),t.ontrack=a=>{O.log("Received remote stream");const l=a.streams[0],c=i.getConnection(n,r);if(c.type===on.Media){const u=c;this._addStreamToMediaConnection(l,u)}}}cleanup(){O.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);O.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),O.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===on.Data){const i=this.connection;s={...s,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:Ne.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(he.WebRTC,s),O.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(he.WebRTC,r),O.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();O.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),O.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Ne.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(he.WebRTC,s),O.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(he.WebRTC,r),O.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;O.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),O.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await i._makeAnswer()}catch(a){s.emitError(he.WebRTC,a),O.log("Failed to setRemoteDescription, ",a)}}async handleCandidate(t){O.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),O.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(he.WebRTC,n),O.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(O.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return O.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){O.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class Ap extends xc.EventEmitter{emitError(t,n){O.error("Error:",n),this.emit("error",new Fy(`${t}`,n))}}class Fy extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class zp extends Ap{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var ul;const Qr=class Qr extends zp{get type(){return on.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Qr.ID_PREFIX+De.randomToken(),this._negotiator=new Dp(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{O.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{O.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){O.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case Ne.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Ne.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:O.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){O.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};ul=new WeakMap,vr(Qr,ul,Qr.ID_PREFIX="mc_");let Bi=Qr;class By{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:s,path:i,key:a}=this._options,l=new URL(`${n}://${r}:${s}${i}${a}/${t}`);return l.searchParams.set("ts",`${Date.now()}${Math.random()}`),l.searchParams.set("version",Ip),fetch(l.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){O.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==De.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===De.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw O.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var dl,fl;const yn=class yn extends zp{get type(){return on.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||yn.ID_PREFIX+Op(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Dp(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{O.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{O.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{O.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(yc.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case Ne.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case Ne.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:O.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};dl=new WeakMap,fl=new WeakMap,vr(yn,dl,yn.ID_PREFIX="dc_"),vr(yn,fl,yn.MAX_BUFFERED_AMOUNT=8388608);let Ui=yn;class vc extends Ui{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Ui.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return O.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Wo extends vc{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new Lp,this.serialization=uo.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=Jh(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Py(r.data);this._handleDataMessage({data:s})}}_send(t,n){const r=Xh(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);O.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class Uy extends vc{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=uo.None}}class $y extends vc{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=De.chunkedMTU){this.emitError(yc.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=uo.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var hl;const Gr=class Gr extends Ap{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:Uy,json:$y,binary:Wo,"binary-utf8":Wo,default:Wo},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:De.CLOUD_HOST,port:De.CLOUD_PORT,path:"/",key:Gr.DEFAULT_KEY,token:De.randomToken(),config:De.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==De.CLOUD_HOST?this._options.secure=De.isSecure():this._options.host==De.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&O.setLogFunction(this._options.logFunction),O.logLevel=this._options.debug||0,this._api=new By(n),this._socket=this._createServerConnection(),!De.supports.audioVideo&&!De.supports.data){this._delayedAbort(he.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!De.validateId(r)){this._delayedAbort(he.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(he.ServerError,s))}_createServerConnection(){const t=new zy(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Gt.Message,n=>{this._handleMessage(n)}),t.on(Gt.Error,n=>{this._abort(he.SocketError,n)}),t.on(Gt.Disconnected,()=>{this.disconnected||(this.emitError(he.Network,"Lost connection to server."),this.disconnect())}),t.on(Gt.Close,()=>{this.disconnected||this._abort(he.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,s=t.src;switch(n){case Ne.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Ne.Error:this._abort(he.ServerError,r.msg);break;case Ne.IdTaken:this._abort(he.UnavailableID,`ID "${this.id}" is taken`);break;case Ne.InvalidKey:this._abort(he.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Ne.Leave:O.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case Ne.Expire:this.emitError(he.PeerUnavailable,`Could not connect to peer ${s}`);break;case Ne.Offer:{const i=r.connectionId;let a=this.getConnection(s,i);if(a&&(a.close(),O.warn(`Offer received for existing Connection ID:${i}`)),r.type===on.Media){const c=new Bi(s,this,{connectionId:i,_payload:r,metadata:r.metadata});a=c,this._addConnection(s,a),this.emit("call",c)}else if(r.type===on.Data){const c=new this._serializers[r.serialization](s,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});a=c,this._addConnection(s,a),this.emit("connection",c)}else{O.warn(`Received malformed connection type:${r.type}`);return}const l=this._getMessages(i);for(const c of l)a.handleMessage(c);break}default:{if(!r){O.warn(`You received a malformed message from ${s} of type ${n}`);return}const i=r.connectionId,a=this.getConnection(s,i);a&&a.peerConnection?a.handleMessage(t):i?this._storeMessage(i,t):O.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){O.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(he.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){O.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(he.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){O.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Bi(t,this,{...r,_stream:n});return this._addConnection(t,s),s}_addConnection(t,n){O.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){O.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(O.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;O.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)O.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)O.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(he.ServerError,n))}};hl=new WeakMap,vr(Gr,hl,Gr.DEFAULT_KEY="peerjs");let nl=Gr;var Fp=nl;const kt=Object.create(null);kt.open="0";kt.close="1";kt.ping="2";kt.pong="3";kt.message="4";kt.upgrade="5";kt.noop="6";const ci=Object.create(null);Object.keys(kt).forEach(e=>{ci[kt[e]]=e});const rl={type:"error",data:"parser error"},Bp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Up=typeof ArrayBuffer=="function",$p=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,bc=({type:e,data:t},n,r)=>Bp&&t instanceof Blob?n?r(t):nd(t,r):Up&&(t instanceof ArrayBuffer||$p(t))?n?r(t):nd(new Blob([t]),r):r(kt[e]+(t||"")),nd=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function rd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ko;function Vy(e,t){if(Bp&&e.data instanceof Blob)return e.data.arrayBuffer().then(rd).then(t);if(Up&&(e.data instanceof ArrayBuffer||$p(e.data)))return t(rd(e.data));bc(e,!1,n=>{Ko||(Ko=new TextEncoder),t(Ko.encode(n))})}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<sd.length;e++)Dr[sd.charCodeAt(e)]=e;const Hy=e=>{let t=e.length*.75,n=e.length,r,s=0,i,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=Dr[e.charCodeAt(r)],a=Dr[e.charCodeAt(r+1)],l=Dr[e.charCodeAt(r+2)],c=Dr[e.charCodeAt(r+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},qy=typeof ArrayBuffer=="function",wc=(e,t)=>{if(typeof e!="string")return{type:"message",data:Vp(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Wy(e.substring(1),t)}:ci[n]?e.length>1?{type:ci[n],data:e.substring(1)}:{type:ci[n]}:rl},Wy=(e,t)=>{if(qy){const n=Hy(e);return Vp(n,t)}else return{base64:!0,data:e}},Vp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Hp="",Ky=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,a)=>{bc(i,!1,l=>{r[a]=l,++s===n&&t(r.join(Hp))})})},Qy=(e,t)=>{const n=e.split(Hp),r=[];for(let s=0;s<n.length;s++){const i=wc(n[s],t);if(r.push(i),i.type==="error")break}return r};function Gy(){return new TransformStream({transform(e,t){Vy(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Qo;function Vs(e){return e.reduce((t,n)=>t+n.length,0)}function Hs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Yy(e,t){Qo||(Qo=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(r===0){if(Vs(n)<1)break;const c=Hs(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Vs(n)<2)break;const c=Hs(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Vs(n)<8)break;const c=Hs(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(rl);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Vs(n)<s)break;const c=Hs(n,s);l.enqueue(wc(i?c:Qo.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(rl);break}}}})}const qp=4;function me(e){if(e)return Jy(e)}function Jy(e){for(var t in me.prototype)e[t]=me.prototype[t];return e}me.prototype.on=me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};me.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};me.prototype.emitReserved=me.prototype.emit;me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const fo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Xe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Xy="arraybuffer";function Wp(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Zy=Xe.setTimeout,ev=Xe.clearTimeout;function ho(e,t){t.useNativeTimers?(e.setTimeoutFn=Zy.bind(Xe),e.clearTimeoutFn=ev.bind(Xe)):(e.setTimeoutFn=Xe.setTimeout.bind(Xe),e.clearTimeoutFn=Xe.clearTimeout.bind(Xe))}const tv=1.33;function nv(e){return typeof e=="string"?rv(e):Math.ceil((e.byteLength||e.size)*tv)}function rv(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Kp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function sv(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function iv(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class ov extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class kc extends me{constructor(t){super(),this.writable=!1,ho(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new ov(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=wc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=sv(t);return n.length?"?"+n:""}}class av extends kc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Qy(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Ky(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Kp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Qp=!1;try{Qp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lv=Qp;function cv(){}class uv extends av{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class bt extends me{constructor(t,n,r){super(),this.createRequest=t,ho(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Wp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=bt.requestsCount++,bt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cv,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete bt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}bt.requestsCount=0;bt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",id);else if(typeof addEventListener=="function"){const e="onpagehide"in Xe?"pagehide":"unload";addEventListener(e,id,!1)}}function id(){for(let e in bt.requests)bt.requests.hasOwnProperty(e)&&bt.requests[e].abort()}const dv=function(){const e=Gp({xdomain:!1});return e&&e.responseType!==null}();class fv extends uv{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=dv&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new bt(Gp,this.uri(),t)}}function Gp(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lv))return new XMLHttpRequest}catch{}if(!t)try{return new Xe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Yp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hv extends kc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Yp?{}:Wp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;bc(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&fo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Kp()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Go=Xe.WebSocket||Xe.MozWebSocket;class pv extends hv{createSocket(t,n,r){return Yp?new Go(t,n,r):n?new Go(t,n):new Go(t)}doWrite(t,n){this.ws.send(n)}}class mv extends kc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Yy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Gy();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&fo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const gv={websocket:pv,webtransport:mv,polling:fv},xv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sl(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=xv.exec(e||""),i={},a=14;for(;a--;)i[yv[a]]=s[a]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=vv(i,i.path),i.queryKey=bv(i,i.query),i}function vv(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function bv(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const il=typeof addEventListener=="function"&&typeof removeEventListener=="function",ui=[];il&&addEventListener("offline",()=>{ui.forEach(e=>e())},!1);class an extends me{constructor(t,n){if(super(),this.binaryType=Xy,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=sl(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=sl(n.host).host);ho(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iv(this.opts.query)),il&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ui.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=qp,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&an.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",an.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=nv(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,fo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(an.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),il&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ui.indexOf(this._offlineEventListener);r!==-1&&ui.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}an.protocol=qp;class wv extends an{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;an.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;an.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const a=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function l(){a("transport closed")}function c(){a("socket closed")}function u(f){n&&f.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let kv=class extends wv{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>gv[s]).filter(s=>!!s)),super(t,r)}};function Cv(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=sl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const jv=typeof ArrayBuffer=="function",_v=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Jp=Object.prototype.toString,Sv=typeof Blob=="function"||typeof Blob<"u"&&Jp.call(Blob)==="[object BlobConstructor]",Nv=typeof File=="function"||typeof File<"u"&&Jp.call(File)==="[object FileConstructor]";function Cc(e){return jv&&(e instanceof ArrayBuffer||_v(e))||Sv&&e instanceof Blob||Nv&&e instanceof File}function di(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(di(e[n]))return!0;return!1}if(Cc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return di(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&di(e[n]))return!0;return!1}function Ev(e){const t=[],n=e.data,r=e;return r.data=ol(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ol(e,t){if(!e)return e;if(Cc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ol(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ol(e[r],t));return n}return e}function Rv(e,t){return e.data=al(e.data,t),delete e.attachments,e}function al(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=al(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=al(e[n],t));return e}const Tv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var V;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(V||(V={}));class Pv{constructor(t){this.replacer=t}encode(t){return(t.type===V.EVENT||t.type===V.ACK)&&di(t)?this.encodeAsBinary({type:t.type===V.EVENT?V.BINARY_EVENT:V.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===V.BINARY_EVENT||t.type===V.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Ev(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class jc extends me{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===V.BINARY_EVENT;r||n.type===V.BINARY_ACK?(n.type=r?V.EVENT:V.ACK,this.reconstructor=new Lv(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Cc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(V[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===V.BINARY_EVENT||r.type===V.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(i,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(jc.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case V.CONNECT:return od(n);case V.DISCONNECT:return n===void 0;case V.CONNECT_ERROR:return typeof n=="string"||od(n);case V.EVENT:case V.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Tv.indexOf(n[0])===-1);case V.ACK:case V.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lv{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Rv(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function od(e){return Object.prototype.toString.call(e)==="[object Object]"}const Ov=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jc,Encoder:Pv,get PacketType(){return V}},Symbol.toStringTag,{value:"Module"}));function lt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Mv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Xp extends me{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[lt(t,"open",this.onopen.bind(this)),lt(t,"packet",this.onpacket.bind(this)),lt(t,"error",this.onerror.bind(this)),lt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(Mv.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:V.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),a.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),a=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(a,l)=>a?s(a):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>(this._queue[0],s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:V.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case V.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case V.EVENT:case V.BINARY_EVENT:this.onevent(t);break;case V.ACK:case V.BINARY_ACK:this.onack(t);break;case V.DISCONNECT:this.ondisconnect();break;case V.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:V.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:V.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function xr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}xr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};xr.prototype.reset=function(){this.attempts=0};xr.prototype.setMin=function(e){this.ms=e};xr.prototype.setMax=function(e){this.max=e};xr.prototype.setJitter=function(e){this.jitter=e};class ll extends me{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ho(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new xr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Ov;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new kv(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=lt(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},a=lt(n,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(lt(t,"ping",this.onping.bind(this)),lt(t,"data",this.ondata.bind(this)),lt(t,"error",this.onerror.bind(this)),lt(t,"close",this.onclose.bind(this)),lt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){fo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Xp(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Tr={};function rr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Cv(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,a=Tr[s]&&i in Tr[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return l?c=new ll(r,t):(Tr[s]||(Tr[s]=new ll(r,t)),c=Tr[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(rr,{Manager:ll,Socket:Xp,io:rr,connect:rr});const Zp=[],cl="bac-physique-live-room",ad=1920,ld=1080,em={config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]}},tm=({messages:e,onSend:t,currentUserName:n,isDisabled:r=!1})=>{const[s,i]=x.useState(""),a=x.useRef(null);x.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[e]);const l=c=>{c.preventDefault(),s.trim()&&!r&&(t(s),i(""))};return o.jsxs("div",{className:"w-full lg:w-80 bg-white border border-brand-200 rounded-3xl flex flex-col overflow-hidden h-[500px] lg:h-auto shadow-lg flex-shrink-0",children:[o.jsxs("div",{className:"p-4 border-b border-brand-100 bg-brand-50 flex items-center gap-2",children:[o.jsx(pc,{className:"w-5 h-5 text-bac-blue"}),o.jsx("h3",{className:"font-bold text-brand-900",children:"Chat du Cours"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white",ref:a,children:e.length===0?o.jsx("div",{className:"text-center text-gray-400 mt-10 text-sm",children:"Aucun message pour le moment."}):e.map(c=>{const u=c.user===n;return o.jsxs("div",{className:`flex flex-col ${u?"items-end":"items-start"}`,children:[o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsxs("span",{className:`text-xs font-bold ${c.isTeacher?"text-bac-blue":"text-brand-500"}`,children:[c.user," ",u&&"(Vous)"]}),o.jsx("span",{className:"text-[10px] text-brand-400",children:c.time})]}),o.jsx("div",{className:`px-4 py-2 rounded-2xl text-sm max-w-[90%] break-words ${u?"bg-bac-blue text-white rounded-tr-sm":"bg-brand-100 text-brand-800 rounded-tl-sm"}`,children:c.text})]},c.id)})}),o.jsx("form",{onSubmit:l,className:"p-3 border-t border-brand-100 bg-brand-50",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:s,onChange:c=>i(c.target.value),placeholder:r?"Chat dsactiv pour vous":"Envoyer un message...",disabled:r,className:"w-full bg-white border border-brand-200 rounded-xl py-2.5 pl-3 pr-10 text-brand-900 focus:outline-none focus:border-bac-blue text-sm shadow-sm disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed"}),o.jsx("button",{type:"submit",disabled:!s.trim()||r,className:"absolute right-1.5 top-1/2 -translate-y-1/2 p-1.5 bg-bac-blue hover:bg-sky-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(Hh,{className:"w-4 h-4"})})]})})]})},Iv=({spectators:e,onKick:t,onMute:n})=>o.jsxs("div",{className:"w-full lg:w-64 bg-white border border-brand-200 rounded-3xl flex flex-col overflow-hidden h-[300px] lg:h-auto shadow-lg flex-shrink-0",children:[o.jsxs("div",{className:"p-4 border-b border-brand-100 bg-brand-50 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kh,{className:"w-5 h-5 text-bac-blue"}),o.jsx("h3",{className:"font-bold text-brand-900",children:"Spectateurs"})]}),o.jsx("span",{className:"bg-bac-blue text-white text-xs px-2 py-0.5 rounded-full font-bold",children:e.length})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:e.length===0?o.jsx("div",{className:"text-center text-gray-400 mt-4 text-xs p-4",children:"Aucun spectateur connect."}):e.map(r=>o.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-brand-50 rounded-lg group transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-200 flex items-center justify-center text-xs font-bold text-brand-600",children:r.name.charAt(0)}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-medium text-brand-700 truncate w-24",children:r.name}),r.isMuted&&o.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"Muet"})]})]}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>n(r.id),className:`p-1.5 rounded-lg hover:bg-gray-200 ${r.isMuted?"text-red-500":"text-gray-400"}`,title:r.isMuted?"Rtablir":"Rendre muet",children:r.isMuted?o.jsx(fy,{className:"w-3 h-3"}):o.jsx(dy,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>t(r.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg",title:"Exclure",children:o.jsx(Dh,{className:"w-3 h-3"})})]})]},r.id))})]}),Dv=({user:e})=>{const[t,n]=x.useState(!1),[r,s]=x.useState(Zp),[i,a]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[v,b]=x.useState(null),y=x.useRef(null),C=x.useRef(null),g=x.useRef(null),p=gr();x.useEffect(()=>()=>{y.current&&y.current.destroy(),C.current&&C.current.disconnect()},[]);const m=()=>{n(!0),a(!0),b(null),c(!1),h(!1);try{C.current=rr("/",{withCredentials:!0}),C.current.emit("user-login",{id:e.id,name:e.name,role:"STUDENT"});const _=new Fp(void 0,em);y.current=_,C.current.on("force-disconnect",()=>{h(!0),y.current&&y.current.destroy(),C.current&&C.current.disconnect(),setTimeout(()=>{p("/")},3e3)}),C.current.on("muted-status",k=>{d(k)}),C.current.on("waiting-approval",()=>{c(!0),a(!1)}),C.current.on("entry-refused",()=>{var k;c(!1),n(!1),b("Le professeur a refus votre demande de rejoindre."),(k=C.current)==null||k.disconnect()}),C.current.on("entry-accepted",()=>{c(!1),a(!0);const k=()=>{var N;y.current&&y.current.id&&!y.current.disconnected?(N=C.current)==null||N.emit("join-room",cl,{peerId:y.current.id,name:e.name,role:"STUDENT"}):setTimeout(k,500)};k()}),C.current.on("error-message",k=>{alert(k)}),C.current.on("receive-message",k=>{s(N=>[...N,k])}),_.on("open",k=>{var N;(N=C.current)==null||N.emit("join-room",cl,{peerId:k,name:e.name,role:"STUDENT"})}),_.on("call",k=>{k.answer(),k.on("stream",N=>{a(!1),g.current&&(g.current.srcObject=N,g.current.play().catch(console.error))})}),_.on("error",k=>{console.error(k),b("Erreur de connexion P2P."),a(!1)})}catch(_){console.error(_),b("Impossible de rejoindre le serveur."),a(!1)}},w=_=>{var N;if(u)return;const k={id:Date.now().toString(),user:e.name,text:_,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isTeacher:!1};s([...r,k]),(N=C.current)==null||N.emit("send-message",k)};return f?o.jsx("div",{className:"h-[calc(100vh-8rem)] flex items-center justify-center animate-[fadeIn_0.3s_ease-out]",children:o.jsxs("div",{className:"text-center p-8 bg-white border border-red-100 rounded-3xl shadow-2xl max-w-md",children:[o.jsx("div",{className:"w-20 h-20 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce-slow",children:o.jsx(Dh,{className:"w-10 h-10"})}),o.jsx("h2",{className:"text-2xl font-bold text-brand-900 mb-2",children:"Session Termine"}),o.jsx("p",{className:"text-brand-500 mb-6",children:"Vous avez t exclu de ce cours par l'enseignant."}),o.jsx("p",{className:"text-xs text-brand-400 font-bold uppercase tracking-widest",children:"Redirection..."})]})}):o.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-8rem)] flex flex-col gap-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-brand-900 flex items-center gap-2",children:[o.jsx(gs,{className:"text-red-600 animate-pulse"}),"Salle de Classe Virtuelle"]}),o.jsx("p",{className:"text-brand-500 text-sm",children:"Mode Spectateur"})]}),o.jsxs("div",{className:"px-3 py-1 bg-white border border-brand-200 rounded-full flex items-center gap-2 shadow-sm",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),o.jsx("span",{className:"text-brand-500 text-xs font-bold",children:"En ligne"})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 flex-1 min-h-0",children:[o.jsx("div",{className:"flex-1 bg-black rounded-3xl overflow-hidden relative border border-brand-200 shadow-2xl flex items-center justify-center",children:t?o.jsxs("div",{className:"w-full h-full relative bg-black flex items-center justify-center",children:[o.jsx("video",{ref:g,className:"w-full h-full object-contain",autoPlay:!0,playsInline:!0}),i&&!l&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 z-20",children:[o.jsx(ie,{className:"w-12 h-12 text-bac-blue animate-spin mb-4"}),o.jsx("p",{className:"text-white text-lg font-medium tracking-wide",children:"Connexion au cours..."})]}),l&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 z-20 p-6 text-center",children:[o.jsx(ie,{className:"w-12 h-12 text-yellow-400 animate-spin mb-4"}),o.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:"En attente d'approbation"}),o.jsx("p",{className:"text-gray-300",children:"Le professeur doit valider votre demande de retour."})]})]}):o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-brand-50/90 backdrop-blur-sm z-10 text-center p-6",children:[o.jsxs("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-2xl shadow-bac-blue/10 border border-brand-200 relative",children:[o.jsx(gs,{className:"w-8 h-8 text-brand-400"}),o.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 bg-red-500 rounded-full border-2 border-white"})]}),o.jsx("h2",{className:"text-2xl font-bold text-brand-900 mb-2",children:"Rejoindre le cours en direct"}),o.jsx("p",{className:"text-brand-500 max-w-md mb-8",children:"Vous entrerez en tant que spectateur. Vous pourrez voir le tableau et interagir via le chat."}),v&&o.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm font-bold flex items-center gap-2",children:[o.jsx(uc,{className:"w-4 h-4"}),v]}),o.jsxs("button",{onClick:m,className:"group px-8 py-3.5 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-semibold text-lg transition-all shadow-lg shadow-bac-blue/30 flex items-center gap-3",children:[o.jsx($h,{className:"w-5 h-5 fill-current"}),"Rejoindre la session"]})]})}),o.jsx(tm,{messages:r,onSend:w,currentUserName:e.name,isDisabled:u})]})]})},Av=({setLiveStatus:e,user:t})=>{const[n,r]=x.useState(!1),[s,i]=x.useState(Zp),[a,l]=x.useState(!1),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[h,v]=x.useState(!1),[b,y]=x.useState(null),[C,g]=x.useState([]),[p,m]=x.useState(null),[w,_]=x.useState("OPEN"),[k,N]=x.useState({x:75,y:70}),[E,D]=x.useState(!1),M=x.useRef({x:75,y:70}),H=x.useRef(null),Q=x.useRef(null),S=x.useRef(null),F=x.useRef(null),J=x.useRef(null),ce=x.useRef(null),je=x.useRef(null),T=x.useRef(null),A=x.useRef(!1);x.useEffect(()=>{A.current=n},[n]),x.useEffect(()=>()=>{$e(!0)},[]);const B=z=>{var q;const I={id:Date.now().toString(),user:t.name,text:z,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isTeacher:!0};i([...s,I]),(q=T.current)==null||q.emit("send-message",I)},X=async()=>{y(null),l(!0),d||(await Ve(),await new Promise(z=>setTimeout(z,500)));try{const z=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}});F.current=z}catch(z){console.warn("Mic failed",z)}try{T.current=rr("/",{withCredentials:!0}),T.current.emit("user-login",{id:t.id,name:t.name,role:"TEACHER"}),T.current.emit("set-live-status",!0,w);const z=new Fp(void 0,em);je.current=z,z.on("open",I=>{var q;l(!1),r(!0),e&&e(!0),Ct(),(q=T.current)==null||q.emit("join-room",cl,{peerId:I,name:t.name,role:"TEACHER"})}),T.current.on("join-request",I=>{m(I)}),T.current.on("user-connected",I=>{if(I.role==="STUDENT"&&I.peerId&&(g(q=>[...q,{id:I.socketId,name:I.name||"tudiant",isMuted:!1,joinTime:new Date().toLocaleTimeString()}]),S.current&&je.current)){const q=S.current.captureStream(30);F.current&&q.addTrack(F.current.getAudioTracks()[0]),je.current.call(I.peerId,q)}}),T.current.on("user-disconnected",I=>{g(q=>q.filter(fe=>fe.id!==I))}),T.current.on("receive-message",I=>{i(q=>[...q,I])})}catch{y("Erreur initialisation."),l(!1)}},ne=z=>{var I;p&&((I=T.current)==null||I.emit("teacher-response",{studentSocketId:p.socketId,decision:z?"accept":"refuse"}),m(null))},Ct=()=>{ce.current&&clearInterval(ce.current),ce.current=window.setInterval(async()=>{if(!A.current||!S.current)return;const z=S.current,I=z.getContext("2d");if(!I)return;const q=H.current,fe=Q.current,zt=q&&q.readyState>=2&&!q.paused,Ft=fe&&fe.readyState>=2&&!fe.paused;if(!zt&&!Ft)return;let ht=ad,St=ld;if((z.width!==ht||z.height!==St)&&(z.width=ht,z.height=St),I.fillStyle="#000",I.fillRect(0,0,ht,St),Ft&&fe?I.drawImage(fe,0,0,ht,St):zt&&q&&I.drawImage(q,0,0,ht,St),Ft&&zt&&q){const yr=ht*.25,pn=q.videoHeight/q.videoWidth*yr,j=M.current.x/100*ht,U=M.current.y/100*St;I.strokeStyle="#fff",I.lineWidth=4,I.strokeRect(j,U,yr,pn),I.drawImage(q,j,U,yr,pn)}},33)},$e=async(z=!0)=>{r(!1),l(!1),m(null),je.current&&(je.current.destroy(),je.current=null),T.current&&(T.current.disconnect(),T.current=null),Q.current&&Q.current.srcObject&&(Q.current.srcObject.getTracks().forEach(q=>q.stop()),Q.current.srcObject=null),v(!1),e&&e(!1),F.current&&(F.current.getTracks().forEach(I=>I.stop()),F.current=null),z&&(J.current&&(J.current.getTracks().forEach(I=>I.stop()),J.current=null),H.current&&(H.current.srcObject=null),f(!1)),ce.current&&(clearInterval(ce.current),ce.current=null)},jt=()=>{if(F.current){const z=!c;F.current.getAudioTracks().forEach(I=>I.enabled=z),u(z)}},Ve=async()=>{if(y(null),d)J.current&&(J.current.getTracks().forEach(z=>z.stop()),J.current=null),H.current&&(H.current.srcObject=null),f(!1);else try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("API Camra non supporte.");const z=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:ad},height:{ideal:ld},frameRate:{ideal:30},facingMode:"user"}});J.current=z,H.current&&(H.current.srcObject=z,H.current.play().catch(I=>console.error("Play error",I))),f(!0)}catch{y("Accs camra refus.")}},_t=async()=>{if(h)Q.current&&Q.current.srcObject&&(Q.current.srcObject.getTracks().forEach(I=>I.stop()),Q.current.srcObject=null),v(!1);else try{const z=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});Q.current&&(Q.current.srcObject=z,Q.current.play().catch(console.error)),z.getVideoTracks()[0].onended=()=>{Q.current&&(Q.current.srcObject=null),v(!1)},v(!0)}catch(z){console.error("Error sharing screen",z)}},po=z=>{var I;(I=T.current)==null||I.emit("kick-user",z),g(q=>q.filter(fe=>fe.id!==z))},mo=z=>{var I;(I=T.current)==null||I.emit("mute-user",z),g(q=>q.map(fe=>fe.id===z?{...fe,isMuted:!fe.isMuted}:fe))},go=z=>{D(!0)},xo=z=>{if(!E)return;const I=z.currentTarget.getBoundingClientRect(),q=(z.clientX-I.left)/I.width*100,fe=(z.clientY-I.top)/I.height*100,zt=Math.max(0,Math.min(75,q)),Ft=Math.max(0,Math.min(80,fe));N({x:zt,y:Ft}),M.current={x:zt,y:Ft}},_s=()=>{D(!1)};return o.jsxs("div",{className:"max-w-screen-2xl mx-auto h-[calc(100vh-8rem)] flex flex-col gap-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-brand-900 flex items-center gap-2",children:[o.jsx(qh,{className:"text-bac-blue"}),"Studio de Diffusion"]}),o.jsx("p",{className:"text-brand-500 text-sm",children:"Contrlez votre classe virtuelle (1080p - 30fps)"})]}),o.jsxs("div",{className:"flex gap-3",children:[!n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1 border border-brand-200",children:[o.jsxs("button",{onClick:()=>_("OPEN"),className:`px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${w==="OPEN"?"bg-white text-brand-900 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(Bh,{className:"w-4 h-4"})," Libre"]}),o.jsxs("button",{onClick:()=>_("APPROVAL"),className:`px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${w==="APPROVAL"?"bg-white text-brand-900 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(lo,{className:"w-4 h-4"})," Salle d'Attente"]})]}),o.jsxs("button",{onClick:Ve,className:`px-4 py-2 border rounded-xl font-bold shadow-sm flex items-center gap-2 transition-colors ${d?"bg-red-50 border-red-200 text-red-600 hover:bg-red-100":"bg-white border-brand-200 text-brand-700 hover:bg-brand-50"}`,children:[d?o.jsx(Wu,{className:"w-4 h-4"}):o.jsx(wt,{className:"w-4 h-4"}),d?"Couper Camra":"Activer Camra"]})]}),n&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs font-bold text-gray-500 border border-gray-200",children:["Mode: ",w==="OPEN"?"Accs Libre (Public)":"Salle d'Attente (Prive)"]}),o.jsxs("div",{className:"px-3 py-1 bg-red-50 text-red-600 border border-red-200 rounded-full flex items-center gap-2 animate-pulse",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-red-600"}),o.jsx("span",{className:"text-xs font-bold uppercase",children:"En Direct"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 flex-1 min-h-0",children:[o.jsx(Iv,{spectators:C,onKick:po,onMute:mo}),o.jsx("div",{className:"flex-1 bg-black/90 border border-brand-200 rounded-3xl overflow-hidden relative flex flex-col shadow-2xl",children:o.jsxs("div",{className:"flex-1 relative bg-black flex items-center justify-center overflow-hidden cursor-crosshair",onMouseMove:xo,onMouseUp:_s,onMouseLeave:_s,children:[o.jsx("video",{ref:Q,className:`absolute inset-0 w-full h-full object-contain z-10 ${h?"block":"hidden"}`,autoPlay:!0,playsInline:!0,muted:!0}),o.jsxs("div",{onMouseDown:h?go:void 0,style:{left:h?`${k.x}%`:"0",top:h?`${k.y}%`:"0",width:h?"25%":"100%",height:h?"auto":"100%",position:"absolute",cursor:h?"move":"default",zIndex:20},className:`transition-opacity duration-300 ease-in-out
                                ${d?"opacity-100":"opacity-0"}
                                ${h?"shadow-2xl border-2 border-white rounded-xl":"rounded-none border-none"}
                            `,children:[o.jsx("video",{ref:H,className:"w-full h-full object-cover bg-black",muted:!0,autoPlay:!0,playsInline:!0}),h&&d&&o.jsx("div",{className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white pointer-events-none",children:o.jsx(Uh,{className:"w-4 h-4"})})]}),!d&&!h&&n&&o.jsxs("div",{className:"flex flex-col items-center text-gray-500 animate-[fadeIn_0.5s] z-0",children:[o.jsx(Wu,{className:"w-12 h-12 mb-2"}),o.jsx("p",{children:"Camra dsactive"})]}),b&&!a&&o.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-amber-100 border border-amber-400 text-amber-800 px-4 py-2 rounded-xl z-50 flex items-center gap-3 shadow-lg max-w-md animate-bounce-slow",children:[o.jsx(uc,{className:"w-5 h-5 shrink-0"}),o.jsx("div",{className:"text-xs font-bold",children:b}),o.jsx("button",{onClick:()=>y(null),children:o.jsx(tt,{className:"w-4 h-4"})})]}),p&&o.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 w-80 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-bac-blue p-4 z-50 animate-bounce-slow",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 bg-yellow-100 rounded-full text-yellow-600",children:o.jsx(cy,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Demande d'entre"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[o.jsx("span",{className:"font-bold text-bac-blue",children:p.name})," veut rejoindre le cours."]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>ne(!0),className:"flex-1 py-1.5 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-1",children:[o.jsx(zh,{className:"w-4 h-4"})," Accepter"]}),o.jsxs("button",{onClick:()=>ne(!1),className:"flex-1 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-1",children:[o.jsx(tt,{className:"w-4 h-4"})," Refuser"]})]})]})]})}),!n&&!a&&o.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center z-30 text-center p-6 transition-all duration-300 ${d?"bg-black/40 text-white backdrop-blur-[2px]":"bg-brand-50/90 text-brand-900 backdrop-blur-sm"}`,children:[o.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-6 shadow-2xl border transition-colors ${d?"bg-white/20 border-white/50":"bg-white border-brand-100 shadow-bac-blue/20"}`,children:o.jsx(wt,{className:`w-8 h-8 ${d?"text-white":"text-brand-400"}`})}),o.jsx("h2",{className:`text-2xl font-bold mb-2 ${d?"text-white":"text-brand-900"}`,children:"Prt  diffuser ?"}),o.jsxs("p",{className:`max-w-md mb-8 ${d?"text-gray-200":"text-brand-500"}`,children:["Mode: ",w==="OPEN"?"Accs Libre (Public)":"Salle d'Attente (Prive)"]}),o.jsxs("button",{onClick:X,className:"group relative px-8 py-4 bg-bac-blue hover:bg-sky-700 text-white rounded-2xl font-semibold text-lg transition-all hover:scale-105 shadow-lg shadow-bac-blue/30 flex items-center gap-3 overflow-hidden",children:[o.jsx($h,{className:"w-5 h-5 fill-current"}),"Lancer le Direct"]})]}),a&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 z-40",children:[o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin mb-4"}),o.jsx("p",{className:"text-white font-medium",children:"Initialisation du studio..."})]}),n&&o.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex items-center gap-4 p-4 bg-brand-900/60 backdrop-blur-2xl rounded-full shadow-2xl border border-white/10 z-30 pointer-events-auto",children:[o.jsx("button",{onClick:jt,className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg ${c?"bg-bac-blue text-white hover:bg-sky-500":"bg-brand-800 text-brand-400 hover:text-white border border-white/20"}`,title:c?"Couper micro":"Activer micro",children:c?o.jsx(ty,{className:"w-6 h-6"}):o.jsx(ey,{className:"w-6 h-6"})}),o.jsx("button",{onClick:_t,className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg ${h?"bg-bac-blue text-white hover:bg-sky-500":"bg-brand-800 text-brand-400 hover:text-white border border-white/20"}`,title:"Partager cran",children:h?o.jsx(ny,{className:"w-6 h-6"}):o.jsx(ry,{className:"w-6 h-6"})}),o.jsx("div",{className:"w-px h-8 bg-white/20 mx-2"}),o.jsxs("button",{onClick:()=>$e(!0),className:"px-6 h-12 bg-red-600 hover:bg-red-700 text-white rounded-full font-bold flex items-center gap-2 transition-colors shadow-lg shadow-red-900/40",children:[o.jsx(oy,{className:"w-4 h-4 fill-current"}),o.jsx("span",{children:"Arrter"})]})]})]})}),o.jsx(tm,{messages:s,onSend:B,currentUserName:t.name,isDisabled:!1})]}),o.jsx("canvas",{ref:S,className:"hidden"})]})},zv=({user:e,onRequireAuth:t,setLiveStatus:n})=>e?e.role==="TEACHER"?o.jsx(Av,{setLiveStatus:n,user:e}):o.jsx(Dv,{user:e}):(t(),o.jsx("div",{className:"h-[calc(100vh-8rem)] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gs,{className:"w-16 h-16 text-brand-300 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-brand-900 mb-2",children:"Accs Restreint"}),o.jsx("p",{className:"text-brand-500",children:"Veuillez vous connecter pour accder au Laboratoire Live."})]})})),Fv=({user:e,onRequireAuth:t})=>{const[n,r]=x.useState([]),[s,i]=x.useState(!0),[a,l]=x.useState(null),[c,u]=x.useState(null);x.useEffect(()=>{(async()=>{i(!0);try{const C=await K.getResources();r(C)}catch(C){console.error(C)}finally{i(!1)}})()},[]);const d=y=>{if(!e){t();return}if(y.type==="FOLDER"){l(y.id);return}u(y)},f=y=>{switch(y){case"VIDEO":return o.jsx(wt,{className:"w-8 h-8"});case"IMAGE":return o.jsx(Fi,{className:"w-8 h-8"});case"LINK":return o.jsx(Yx,{className:"w-8 h-8"});case"FOLDER":return o.jsx(zi,{className:"w-8 h-8"});default:return o.jsx(Rn,{className:"w-8 h-8"})}},h=y=>{switch(y){case"VIDEO":return"bg-purple-50 text-purple-500 border-purple-100";case"IMAGE":return"bg-blue-50 text-blue-500 border-blue-100";case"LINK":return"bg-emerald-50 text-emerald-500 border-emerald-100";case"FOLDER":return"bg-yellow-50 text-yellow-500 border-yellow-100";default:return"bg-red-50 text-red-500 border-red-100"}},v=n.filter(y=>a?y.parentId===a:!y.parentId&&y.category!=="COURS"),b=()=>{var y;return a?((y=n.find(C=>C.id===a))==null?void 0:y.title)||"Dossier":"Racine"};return o.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 animate-[fadeIn_0.5s_ease-out]",children:[o.jsxs("div",{className:"border-b border-brand-200 pb-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-brand-900 mb-2 font-serif",children:"Ressources Pdagogiques"}),o.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm font-bold",children:[o.jsxs("button",{onClick:()=>l(null),className:`flex items-center gap-1 hover:text-bac-blue transition-colors ${a?"text-brand-400":"text-bac-blue"}`,children:[o.jsx(Kx,{className:"w-4 h-4"}),"Ressources"]}),a&&o.jsxs(o.Fragment,{children:[o.jsx(Wr,{className:"w-4 h-4 text-brand-300"}),o.jsx("span",{className:"text-bac-blue px-2 py-1 bg-brand-100 rounded-md",children:b()})]})]})]}),s?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-brand-400",children:[o.jsx(ie,{className:"w-12 h-12 animate-spin mb-4 text-bac-blue"}),o.jsx("p",{children:"Chargement des ressources..."})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.map(y=>o.jsxs("div",{className:"bg-white border border-brand-200 rounded-3xl overflow-hidden hover:shadow-xl hover:border-bac-light/50 transition-all duration-300 group flex flex-col cursor-pointer",onClick:()=>d(y),children:[y.type==="FOLDER"&&y.url?o.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[o.jsx("img",{src:y.url,alt:y.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-80"}),o.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[o.jsx(zi,{className:"w-6 h-6 mb-2"}),o.jsx("h4",{className:"font-bold text-lg leading-tight",children:y.title})]})]}):o.jsx("div",{className:"p-6 pb-0 flex items-start justify-between",children:o.jsx("div",{className:`p-4 border rounded-2xl group-hover:scale-105 transition-all shadow-sm ${h(y.type)}`,children:f(y.type)})}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[(!y.url||y.type!=="FOLDER")&&o.jsx("h4",{className:"font-bold text-brand-800 text-xl mb-2 group-hover:text-bac-blue transition-colors line-clamp-1",children:y.title}),o.jsx("p",{className:"text-sm text-brand-500 line-clamp-2 mb-4 flex-1",children:y.description||"Aucune description"}),o.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-brand-50",children:[o.jsx("span",{className:"text-xs font-bold text-brand-400 bg-brand-50 px-2 py-1 rounded-lg uppercase tracking-wider",children:y.category||"Gnral"}),o.jsxs("button",{className:"text-bac-blue hover:text-sky-700 font-bold text-sm flex items-center gap-1",children:[y.type==="FOLDER"?"Ouvrir":"Voir",y.type==="FOLDER"?o.jsx(Wr,{className:"w-3 h-3"}):o.jsx(dc,{className:"w-3 h-3"})]})]})]})]},y.id)),v.length===0&&o.jsx("div",{className:"col-span-full text-center py-20 text-brand-400",children:"Dossier vide."})]}),o.jsx(js,{resource:c,onClose:()=>u(null)})]})},Bv=({user:e,onRequireAuth:t})=>{const[n,r]=x.useState([]),[s,i]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,v]=x.useState(null),[b,y]=x.useState(""),[C,g]=x.useState(""),p=x.useRef(null);x.useEffect(()=>{m()},[]);const m=async()=>{i(!0);try{const E=await K.getResources();r(E.filter(D=>D.category==="SUJETS_BAC"))}catch(E){console.error(E)}finally{i(!1)}},w=E=>{if(E.target.files&&E.target.files.length>0){const D=E.target.files[0];v(D),y(D.name.split(".")[0]),f(!0),E.target.value=""}},_=async E=>{if(E.preventDefault(),!(!h||!b)){l(!0);try{const D=new FileReader;D.readAsDataURL(h),D.onload=async()=>{const M=D.result,H={id:Date.now().toString()+Math.random().toString(),title:b,description:C||"Sujet Bac",type:h.type.includes("image")?"IMAGE":"PDF",category:"SUJETS_BAC",date:new Date().toISOString().split("T")[0],size:(h.size/(1024*1024)).toFixed(2)+" MB",url:M,parentId:null};await K.addResource(H),await m(),f(!1),v(null),y(""),g(""),alert("Sujet publi avec succs !")}}catch{alert("Erreur lors de l'upload.")}finally{l(!1)}}},k=async(E,D)=>{if(E.stopPropagation(),confirm("Supprimer ce sujet ?"))try{await K.deleteResource(D),m()}catch(M){console.error(M)}},N=E=>{e?u(E):t()};return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-[fadeIn_0.5s_ease-out]",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-brand-200 pb-6",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-brand-900 font-serif flex items-center gap-3",children:[o.jsx(fc,{className:"w-10 h-10 text-bac-blue"}),"Sujets du Bac"]}),o.jsx("p",{className:"text-brand-500 mt-2",children:"Accdez aux annales, examens et corrigs officiels."})]}),(e==null?void 0:e.role)==="TEACHER"&&o.jsxs("div",{children:[o.jsx("input",{type:"file",ref:p,accept:".pdf,image/*",className:"hidden",onChange:w,disabled:a}),o.jsxs("button",{onClick:()=>{var E;return(E=p.current)==null?void 0:E.click()},disabled:a,className:"flex items-center gap-2 px-6 py-3 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-bold shadow-lg shadow-bac-blue/20 transition-all disabled:opacity-70",children:[a?o.jsx(ie,{className:"w-5 h-5 animate-spin"}):o.jsx(Kr,{className:"w-5 h-5"}),"Ajouter un Sujet"]})]})]}),s?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length===0?o.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-3xl border border-brand-100",children:[o.jsx(Rn,{className:"w-12 h-12 text-brand-200 mx-auto mb-4"}),o.jsx("p",{className:"text-brand-400",children:"Aucun sujet disponible pour le moment."})]}):n.map(E=>o.jsxs("div",{onClick:()=>N(E),className:"group bg-white border border-brand-200 rounded-2xl p-5 hover:shadow-xl hover:border-bac-blue/30 transition-all cursor-pointer flex flex-col relative",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-brand-50 rounded-xl text-bac-blue group-hover:bg-bac-blue group-hover:text-white transition-colors",children:o.jsx(Rn,{className:"w-8 h-8"})}),(e==null?void 0:e.role)==="TEACHER"&&o.jsx("button",{onClick:D=>k(D,E.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors z-10",title:"Supprimer",children:o.jsx(xs,{className:"w-4 h-4"})})]}),o.jsx("h3",{className:"font-bold text-brand-900 text-lg mb-2 line-clamp-2 leading-tight group-hover:text-bac-blue transition-colors",children:E.title}),o.jsx("p",{className:"text-sm text-brand-500 line-clamp-2 mb-4 flex-1",children:E.description}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-brand-50 mt-auto",children:[o.jsxs("span",{className:"text-xs font-bold text-brand-400",children:[E.date,"  ",E.size]}),o.jsxs("button",{className:"text-bac-blue hover:text-sky-700 text-sm font-bold flex items-center gap-1",children:[o.jsx(dc,{className:"w-4 h-4"}),"Voir"]})]})]},E.id))}),d&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-900/50 backdrop-blur-sm p-4 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl border border-brand-100 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-brand-900",children:"Publier un Sujet"}),o.jsx("button",{onClick:()=>f(!1),disabled:a,children:o.jsx(tt,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Titre du document"}),o.jsx("input",{type:"text",required:!0,value:b,onChange:E=>y(E.target.value),className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue",disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Description (Anne, Section...)"}),o.jsx("textarea",{value:C,onChange:E=>g(E.target.value),className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue h-24 resize-none",placeholder:"Ex: Bac 2023 - Session Principale - Sciences Exp",disabled:a})]}),o.jsxs("div",{className:"p-3 bg-blue-50 rounded-xl text-xs text-blue-700 font-medium",children:["Fichier slectionn: ",h==null?void 0:h.name]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-bac-blue text-white rounded-xl font-bold mt-2 flex justify-center items-center gap-2 disabled:opacity-70",children:a?o.jsx(ie,{className:"w-5 h-5 animate-spin"}):"Publier maintenant"})]})]})}),o.jsx(js,{resource:c,onClose:()=>u(null)})]})},Uv=({user:e,onRequireAuth:t})=>{const[n,r]=x.useState([]),[s,i]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(""),[d,f]=x.useState(""),[h,v]=x.useState(null),[b,y]=x.useState(""),[C,g]=x.useState(!1);x.useEffect(()=>{p()},[]);const p=async()=>{i(!0);try{const k=await K.getForumPosts();r(k)}catch(k){console.error(k)}finally{i(!1)}},m=async k=>{if(k.preventDefault(),!e){t();return}if(!(!c.trim()||!d.trim())){g(!0);try{await K.createForumPost(c,d),await p(),l(!1),u(""),f("")}catch{alert("Erreur lors de la publication.")}finally{g(!1)}}},w=async(k,N)=>{if(k.stopPropagation(),!!confirm("Supprimer cette discussion et toutes ses rponses ?"))try{await K.deleteForumPost(N),r(E=>E.filter(D=>D.id!==N))}catch{alert("Erreur lors de la suppression.")}},_=async(k,N)=>{if(k.preventDefault(),!e){t();return}if(b.trim()){g(!0);try{await K.createForumAnswer(N,b),await p(),y("")}catch{alert("Erreur lors de la rponse.")}finally{g(!1)}}};return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-[fadeIn_0.5s_ease-out]",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-brand-200 pb-6",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-brand-900 font-serif flex items-center gap-3",children:[o.jsx(pc,{className:"w-8 h-8 text-bac-blue"}),"Forum d'Entraide"]}),o.jsx("p",{className:"text-brand-500 mt-2",children:"Posez vos questions et aidez vos camarades."})]}),o.jsxs("button",{onClick:()=>e?l(!0):t(),className:"px-6 py-3 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-bold shadow-lg shadow-bac-blue/20 transition-all flex items-center gap-2",children:[o.jsx(Vh,{className:"w-5 h-5"}),"Poser une question"]})]}),s?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin"})}):o.jsx("div",{className:"space-y-6",children:n.length===0?o.jsx("div",{className:"text-center py-12 bg-white rounded-3xl border border-brand-100",children:o.jsx("p",{className:"text-brand-400",children:"Aucune question pour le moment. Soyez le premier !"})}):n.map(k=>o.jsxs("div",{className:"bg-white border border-brand-200 rounded-2xl shadow-sm overflow-hidden transition-all hover:shadow-md",children:[o.jsx("div",{onClick:()=>v(h===k.id?null:k.id),className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${k.userRole==="TEACHER"?"bg-bac-blue":"bg-brand-300"}`,children:k.userRole==="TEACHER"?o.jsx(mc,{className:"w-5 h-5"}):k.userName.charAt(0)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"text-lg font-bold text-brand-900 mb-1",children:k.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="TEACHER"&&o.jsx("button",{onClick:N=>w(N,k.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors mr-1",title:"Supprimer la discussion",children:o.jsx(xs,{className:"w-4 h-4"})}),h===k.id?o.jsx($x,{className:"text-brand-400"}):o.jsx(Ux,{className:"text-brand-400"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-brand-400",children:[o.jsx("span",{className:`font-bold ${k.userRole==="TEACHER"?"text-bac-blue":"text-brand-600"}`,children:k.userName}),o.jsx("span",{children:""}),o.jsx("span",{children:k.createdAt}),o.jsx("span",{children:""}),o.jsxs("span",{className:"font-bold text-bac-blue",children:[k.answers.length," rponses"]})]})]})]})}),h===k.id&&o.jsxs("div",{className:"bg-brand-50 border-t border-brand-100 p-6",children:[o.jsx("p",{className:"text-brand-700 mb-8 whitespace-pre-wrap",children:k.content}),o.jsxs("div",{className:"space-y-4 mb-8",children:[o.jsx("h4",{className:"font-bold text-brand-900 text-sm uppercase tracking-wide mb-4",children:"Rponses"}),k.answers.length===0?o.jsx("p",{className:"text-sm text-brand-400 italic",children:"Pas encore de rponse."}):k.answers.map(N=>o.jsxs("div",{className:`p-4 rounded-xl border ${N.userRole==="TEACHER"?"bg-blue-50 border-blue-100":"bg-white border-brand-100"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:`text-xs font-bold ${N.userRole==="TEACHER"?"text-bac-blue":"text-brand-600"}`,children:[N.userName," ",N.userRole==="TEACHER"&&"(Professeur)"]}),o.jsx("span",{className:"text-[10px] text-brand-400",children:N.createdAt})]}),o.jsx("p",{className:"text-sm text-brand-800",children:N.content})]},N.id))]}),o.jsxs("form",{onSubmit:N=>_(N,k.id),className:"flex gap-2",children:[o.jsx("input",{type:"text",value:b,onChange:N=>y(N.target.value),placeholder:"crire une rponse...",className:"flex-1 px-4 py-2 rounded-xl border border-brand-200 focus:outline-none focus:border-bac-blue",disabled:C}),o.jsx("button",{type:"submit",disabled:C||!b.trim(),className:"px-4 py-2 bg-bac-blue text-white rounded-xl hover:bg-sky-700 disabled:opacity-50",children:o.jsx(Hh,{className:"w-4 h-4"})})]})]})]},k.id))}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-900/50 backdrop-blur-sm p-4 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-brand-900 mb-4",children:"Poser une question"}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Titre"}),o.jsx("input",{type:"text",required:!0,value:c,onChange:k=>u(k.target.value),className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue",placeholder:"Ex: Problme ex. 3 cinmatique",disabled:C})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Dtails"}),o.jsx("textarea",{required:!0,value:d,onChange:k=>f(k.target.value),className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue h-32 resize-none",placeholder:"Expliquez votre problme...",disabled:C})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-2 border border-brand-200 text-brand-600 font-bold rounded-xl hover:bg-gray-50",disabled:C,children:"Annuler"}),o.jsx("button",{type:"submit",className:"flex-1 py-2 bg-bac-blue text-white font-bold rounded-xl hover:bg-sky-700 disabled:opacity-50",disabled:C,children:C?o.jsx(ie,{className:"w-5 h-5 animate-spin mx-auto"}):"Publier"})]})]})]})})]})},nm=({imageSrc:e,onCrop:t,onCancel:n,aspectRatio:r=16/9})=>{const[s,i]=x.useState(1),[a,l]=x.useState({x:0,y:0}),[c,u]=x.useState(!1),[d,f]=x.useState({x:0,y:0}),h=x.useRef(null),v=x.useRef(null),b=600,y=b/r,C=w=>{w.preventDefault(),u(!0),f({x:w.clientX-a.x,y:w.clientY-a.y})},g=w=>{if(!c)return;const _=w.clientX-d.x,k=w.clientY-d.y;l({x:_,y:k})},p=()=>{u(!1)},m=()=>{const w=document.createElement("canvas"),_=w.getContext("2d"),k=v.current;if(!_||!k)return;w.width=b,w.height=y,_.fillStyle="#000000",_.fillRect(0,0,w.width,w.height),k.naturalWidth*(b/k.naturalWidth)*s;const N=k.width*s,E=k.height*s;_.drawImage(k,a.x,a.y,N,E);const D=w.toDataURL("image/jpeg",.9);t(D)};return x.useEffect(()=>{v.current},[s]),o.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl w-full max-w-2xl flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white",children:[o.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Uh,{className:"w-5 h-5 text-bac-blue"}),"Ajuster la miniature"]}),o.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(tt,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 bg-gray-50 flex flex-col items-center justify-center select-none",children:[o.jsxs("div",{ref:h,style:{width:b,height:y},className:"relative bg-black overflow-hidden rounded-lg shadow-inner cursor-move border-2 border-dashed border-gray-300",onMouseDown:C,onMouseMove:g,onMouseUp:p,onMouseLeave:p,children:[o.jsx("img",{ref:v,src:e,alt:"To Crop",draggable:!1,style:{transform:`translate(${a.x}px, ${a.y}px) scale(${s})`,transformOrigin:"top left",width:"100%",height:"auto",userSelect:"none"},className:"absolute top-0 left-0 transition-transform duration-75 ease-linear pointer-events-none"}),o.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:[o.jsx("div",{className:"w-full h-1/3 border-b border-white"}),o.jsx("div",{className:"w-full h-1/3 border-b border-white top-1/3 absolute"}),o.jsx("div",{className:"h-full w-1/3 border-r border-white absolute top-0 left-0"}),o.jsx("div",{className:"h-full w-1/3 border-r border-white absolute top-0 left-1/3"})]})]}),o.jsxs("div",{className:"w-full max-w-[600px] mt-6 flex items-center gap-4 px-4",children:[o.jsx(my,{className:"w-5 h-5 text-gray-400"}),o.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:s,onChange:w=>i(parseFloat(w.target.value)),className:"flex-1 accent-bac-blue h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("span",{className:"text-sm font-bold text-gray-500 w-12 text-right",children:[Math.round(s*100),"%"]})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Glissez l'image pour la positionner"})]}),o.jsxs("div",{className:"p-4 border-t border-gray-100 flex justify-end gap-3 bg-white",children:[o.jsx("button",{onClick:n,className:"px-6 py-2 border border-gray-200 text-gray-600 font-bold rounded-xl hover:bg-gray-50 transition-colors",children:"Annuler"}),o.jsxs("button",{onClick:m,className:"px-6 py-2 bg-bac-blue text-white font-bold rounded-xl hover:bg-sky-700 shadow-lg shadow-bac-blue/20 flex items-center gap-2",children:[o.jsx(zh,{className:"w-4 h-4"}),"Valider"]})]})]})})},$v=({user:e,onRequireAuth:t})=>{const[n,r]=x.useState([]),[s,i]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,v]=x.useState(null),[b,y]=x.useState(""),[C,g]=x.useState(null),[p,m]=x.useState(null),w=x.useRef(null),_=x.useRef(null);x.useEffect(()=>{k()},[]);const k=async()=>{i(!0);try{const S=await K.getResources();r(S.filter(F=>F.type==="VIDEO"))}catch(S){console.error(S)}finally{i(!1)}},N=S=>{if(S.target.files&&S.target.files.length>0){const F=S.target.files[0];v(F),y(F.name.split(".")[0]),f(!0),S.target.value=""}},E=S=>{if(S.target.files&&S.target.files.length>0){const F=S.target.files[0],J=new FileReader;J.onload=ce=>{var je;(je=ce.target)!=null&&je.result&&m(ce.target.result)},J.readAsDataURL(F),S.target.value=""}},D=S=>{g(S),m(null)},M=async()=>{if(!(!h||!b)){l(!0);try{const S=new FileReader;S.readAsDataURL(h),S.onload=async()=>{const F=S.result,J={id:Date.now().toString()+Math.random().toString(),title:b,description:"Vido ajoute par le professeur",type:"VIDEO",category:"COURS",date:new Date().toISOString().split("T")[0],size:(h.size/(1024*1024)).toFixed(2)+" MB",url:F,thumbnail:C||void 0,parentId:null};await K.addResource(J),await k(),f(!1),v(null),y(""),g(null),m(null),alert("Vido publie avec succs !"),l(!1)}}catch{alert("Erreur lors de l'upload."),l(!1)}}},H=async(S,F)=>{if(S.stopPropagation(),confirm("Supprimer cette vido ?"))try{await K.deleteResource(F),k()}catch(J){console.error(J)}},Q=S=>{e?u(S):t()};return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-[fadeIn_0.5s_ease-out]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-brand-200 pb-6",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-brand-900 font-serif flex items-center gap-3",children:[o.jsx(wt,{className:"w-8 h-8 text-bac-blue"}),"Vidothque"]}),o.jsx("p",{className:"text-brand-500 mt-2",children:"Replays des cours et explications dtailles."})]}),(e==null?void 0:e.role)==="TEACHER"&&o.jsxs("div",{children:[o.jsx("input",{type:"file",ref:w,accept:"video/*",className:"hidden",onChange:N,disabled:a}),o.jsxs("button",{onClick:()=>{var S;return(S=w.current)==null?void 0:S.click()},disabled:a,className:"flex items-center gap-2 px-6 py-3 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-bold shadow-lg shadow-bac-blue/20 transition-all disabled:opacity-70",children:[a?o.jsx(ie,{className:"w-5 h-5 animate-spin"}):o.jsx(Kr,{className:"w-5 h-5"}),"Ajouter une vido"]})]})]}),s?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length===0?o.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-3xl border border-brand-100",children:[o.jsx(wt,{className:"w-12 h-12 text-brand-200 mx-auto mb-4"}),o.jsx("p",{className:"text-brand-400",children:"Aucune vido disponible pour le moment."})]}):n.map(S=>o.jsxs("div",{onClick:()=>Q(S),className:"group bg-white border border-brand-200 rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all",children:[o.jsxs("div",{className:"aspect-video bg-gray-100 relative flex items-center justify-center",children:[S.thumbnail?o.jsx("img",{src:S.thumbnail,className:"w-full h-full object-cover group-hover:opacity-90 transition-opacity",alt:S.title}):o.jsx("video",{src:S.url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-transparent transition-colors",children:o.jsx("div",{className:"w-14 h-14 bg-white/90 rounded-full flex items-center justify-center text-bac-blue shadow-lg group-hover:scale-110 transition-transform",children:o.jsx(co,{className:"w-8 h-8 fill-current"})})}),(e==null?void 0:e.role)==="TEACHER"&&o.jsx("button",{onClick:F=>H(F,S.id),className:"absolute top-2 right-2 p-2 bg-white text-red-500 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50 shadow-sm",title:"Supprimer la vido",children:o.jsx(xs,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"font-bold text-brand-900 text-lg mb-1 line-clamp-1",children:S.title}),o.jsx("p",{className:"text-sm text-brand-500 line-clamp-2 mb-3",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-brand-400",children:[o.jsx("span",{className:"bg-purple-50 text-purple-600 px-2 py-1 rounded-md uppercase",children:"Vido"}),o.jsx("span",{children:S.date})]})]})]},S.id))}),d&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-900/50 backdrop-blur-sm p-4 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl border border-brand-100 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-brand-900",children:"Publier une vido"}),o.jsx("button",{onClick:()=>f(!1),disabled:a,children:o.jsx(tt,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Titre de la vido"}),o.jsx("input",{type:"text",value:b,onChange:S=>y(S.target.value),className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue",disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Miniature (Optionnel)"}),o.jsxs("div",{onClick:()=>{var S;return(S=_.current)==null?void 0:S.click()},className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-bac-blue hover:bg-blue-50 transition-colors relative overflow-hidden",children:[C?o.jsx("img",{src:C,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover"}):o.jsxs(o.Fragment,{children:[o.jsx(Fi,{className:"w-6 h-6 text-gray-400 mb-1"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Cliquez pour ajouter une image"})]}),o.jsx("input",{type:"file",ref:_,onChange:E,accept:"image/*",className:"hidden"})]}),C&&o.jsx("button",{onClick:()=>m(C),className:"text-xs text-bac-blue font-bold mt-1 hover:underline",children:"Ajuster l'image"})]}),o.jsxs("div",{className:"p-3 bg-blue-50 rounded-xl text-xs text-blue-700 font-medium",children:["Fichier slectionn: ",h==null?void 0:h.name]}),o.jsx("button",{onClick:M,disabled:a||!b,className:"w-full py-3 bg-bac-blue text-white rounded-xl font-bold mt-2 flex justify-center items-center gap-2 disabled:opacity-70",children:a?o.jsx(ie,{className:"w-5 h-5 animate-spin"}):"Publier maintenant"})]})]})}),p&&o.jsx(nm,{imageSrc:p,onCancel:()=>m(null),onCrop:D,aspectRatio:16/9}),o.jsx(js,{resource:c,onClose:()=>u(null)})]})},Vv=()=>{const e=gr(),t=Gh(),n=t.icon;return o.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 animate-[fadeIn_0.5s_ease-out]",children:[o.jsxs("button",{onClick:()=>e("/"),className:"absolute top-24 left-4 md:left-8 flex items-center gap-2 text-brand-500 hover:text-bac-blue font-bold transition-colors",children:[o.jsx(Ka,{className:"w-5 h-5"}),"Retour"]}),o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-[3rem] shadow-2xl overflow-hidden border border-brand-100 relative",children:[o.jsxs("div",{className:`h-40 ${t.bg} w-full relative overflow-hidden flex items-center justify-center transition-colors duration-500`,children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"}),o.jsx("div",{className:`w-24 h-24 rounded-full bg-white flex items-center justify-center shadow-lg ${t.color}`,children:o.jsx(n,{className:"w-12 h-12"})})]}),o.jsxs("div",{className:"p-8 md:p-12 text-center",children:[o.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-brand-50 text-brand-500 font-bold text-xs uppercase tracking-widest mb-4",children:"La Science du Jour"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-900 font-serif mb-6 leading-tight",children:t.title}),o.jsx("p",{className:"text-lg text-brand-600 leading-relaxed mb-8",children:t.content}),o.jsxs("div",{className:"bg-gradient-to-r from-bac-light/10 to-bac-blue/10 p-6 rounded-2xl border border-bac-light/20 relative",children:[o.jsx(Gx,{className:"w-6 h-6 text-yellow-500 absolute -top-3 -left-3 bg-white rounded-full p-1 shadow-sm"}),o.jsxs("p",{className:"text-sm font-bold text-brand-700 italic",children:['" ',t.fact,' "']})]})]}),o.jsx("div",{className:"bg-brand-50 p-4 text-center text-xs text-brand-400 font-bold border-t border-brand-100",children:"Revenez demain pour une nouvelle dcouverte !"})]})]})},Hv=({user:e,onRequireAuth:t})=>{const[n,r]=x.useState([]),[s,i]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,v]=x.useState([]),[b,y]=x.useState("COURS"),[C,g]=x.useState(""),[p,m]=x.useState(""),[w,_]=x.useState(!1),[k,N]=x.useState(!1),[E,D]=x.useState(!1),[M,H]=x.useState(""),[Q,S]=x.useState(""),[F,J]=x.useState("COURS"),[ce,je]=x.useState(null),[T,A]=x.useState(null),[B,X]=x.useState("ALL"),ne=x.useRef(null),Ct=x.useRef(null),$e=x.useRef(null);if(x.useEffect(()=>{(!e||e.role!=="TEACHER")&&t()},[e,t]),x.useEffect(()=>{(async()=>{i(!0);try{const[Z,ye]=await Promise.all([K.getResources(),K.getStudents()]);r(Z),f(ye)}catch(Z){console.error(Z)}finally{i(!1)}})();const U=Z=>{const ye=Z.filter(Bt=>Bt.role==="STUDENT"),mn=Array.from(new Map(ye.map(Bt=>[Bt.userId,Bt])).values());u(mn)};return gt.on("online-users-update",U),()=>{gt.off("online-users-update",U)}},[]),!e||e.role!=="TEACHER")return null;const jt=j=>{if(j===0)return"0 Bytes";const U=1024,Z=["Bytes","KB","MB","GB"],ye=Math.floor(Math.log(j)/Math.log(U));return parseFloat((j/Math.pow(U,ye)).toFixed(2))+" "+Z[ye]},Ve=j=>j.type==="FOLDER"?o.jsx(zi,{className:"w-8 h-8 text-yellow-500 fill-yellow-100"}):j.type==="IMAGE"?o.jsx(Fi,{className:"w-8 h-8 text-blue-500"}):j.type==="VIDEO"?o.jsx(wt,{className:"w-8 h-8 text-purple-500"}):j.type==="PDF"?o.jsx(Rn,{className:"w-8 h-8 text-red-500"}):o.jsx(Wx,{className:"w-8 h-8 text-gray-500"}),_t=j=>j.type.startsWith("image/")?"IMAGE":j.type.startsWith("video/")?"VIDEO":"PDF",po=j=>{j.preventDefault(),_(!0)},mo=j=>{j.preventDefault(),_(!1)},go=j=>{if(j.preventDefault(),_(!1),j.dataTransfer.files&&j.dataTransfer.files.length>0){const U=Array.from(j.dataTransfer.files);v(Z=>[...Z,...U])}},xo=j=>{if(j.target.files&&j.target.files.length>0){const U=Array.from(j.target.files);v(Z=>[...Z,...U])}},_s=async j=>{if(j.target.files&&j.target.files.length>0){const U=j.target.files[0];l(!0);try{const Z=await fe(U),ye={id:Date.now().toString()+Math.random().toString(),title:U.name.split(".")[0],description:"Vido importe",type:"VIDEO",category:"COURS",date:new Date().toISOString().split("T")[0],size:jt(U.size),url:Z,parentId:null};await K.addResource(ye);const mn=await K.getResources();r(mn),alert("Vido ajoute avec succs !")}catch{alert("Erreur lors de l'upload de la vido.")}finally{l(!1)}}},z=j=>{if(j.target.files&&j.target.files.length>0){const U=j.target.files[0];fe(U).then(Z=>{A(Z)}),j.target.value=""}},I=j=>{je(j),A(null)},q=j=>{v(U=>U.filter((Z,ye)=>ye!==j))},fe=j=>new Promise((U,Z)=>{const ye=new FileReader;ye.readAsDataURL(j),ye.onload=()=>U(ye.result),ye.onerror=mn=>Z(mn)}),zt=async()=>{if(h.length!==0){l(!0);try{for(const U of h){const Z=await fe(U);let ye=b;if(p){const Bt=n.find(sm=>sm.id===p);Bt&&Bt.category&&(ye=Bt.category)}const mn={id:Date.now().toString()+Math.random().toString(),title:U.name.split(".")[0],description:C||"Fichier import",type:_t(U),category:ye,date:new Date().toISOString().split("T")[0],size:jt(U.size),url:Z,parentId:p||null};await K.addResource(mn)}const j=await K.getResources();r(j),v([]),g(""),m(""),alert(`${h.length} fichiers publis !`)}catch(j){alert("Erreur lors de la publication. Vrifiez la taille des fichiers."),console.error(j)}finally{l(!1)}}},Ft=async j=>{if(j.preventDefault(),!M)return;l(!0);const U={id:"folder-"+Date.now(),title:M,description:Q||"Dossier de ressources",type:"FOLDER",category:F,date:new Date().toISOString().split("T")[0],url:ce||void 0};try{await K.addResource(U);const Z=await K.getResources();r(Z),D(!1),H(""),S(""),je(null)}catch(Z){console.error(Z)}finally{l(!1)}},ht=async j=>{if(confirm("Supprimer dfinitivement cet lment ?")){l(!0);try{await K.deleteResource(j);const U=await K.getResources();r(U)}catch(U){console.error(U)}finally{l(!1)}}},St=n.filter(j=>B==="ALL"||j.category===B),yr=n.filter(j=>j.type==="FOLDER"),pn=n.filter(j=>j.type==="VIDEO");return o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 px-8 py-6 mb-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Vu,{className:"text-emerald-500 w-6 h-6"}),"Centre de Contrle"]}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[o.jsx("span",{className:"font-bold text-bac-blue",children:c.length})," lve(s) en ligne actuellement."]})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-50 hover:bg-white border border-brand-200 text-brand-700 rounded-xl text-sm font-bold transition-all shadow-sm",children:[o.jsx(uy,{className:"w-4 h-4"}),"Inscrits (",d.length,")"]})})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-brand-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(hy,{className:"w-5 h-5 text-emerald-500 animate-pulse"}),"En Direct (",c.length,")"]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide min-h-[60px]",children:c.length===0?o.jsx("p",{className:"text-sm text-gray-400 italic",children:"Aucun lve connect."}):c.map((j,U)=>o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-emerald-50 border border-emerald-100 rounded-full animate-[fadeIn_0.5s]",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),o.jsx("span",{className:"text-sm font-bold text-emerald-800",children:j.name})]},U))})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-brand-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(wt,{className:"w-5 h-5 text-purple-600"}),"Vidothque"]}),o.jsx("input",{type:"file",ref:$e,accept:"video/*",className:"hidden",onChange:_s,disabled:a}),o.jsxs("button",{onClick:()=>{var j;return(j=$e.current)==null?void 0:j.click()},disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-xl text-sm font-bold transition-colors disabled:opacity-50",children:[a?o.jsx(ie,{className:"w-4 h-4 animate-spin"}):o.jsx(Kr,{className:"w-4 h-4"}),"Ajouter une vido"]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[pn.length===0?o.jsx("div",{className:"col-span-full py-8 text-center text-gray-400 border-2 border-dashed border-gray-100 rounded-xl",children:"Aucune vido dans la bibliothque."}):pn.slice(0,6).map(j=>o.jsxs("div",{className:"group relative bg-gray-50 rounded-xl overflow-hidden border border-gray-100 hover:shadow-md transition-all",children:[o.jsxs("div",{className:"aspect-video bg-gray-200 relative",children:[o.jsx("video",{src:j.url,className:"w-full h-full object-cover opacity-80"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 group-hover:bg-transparent transition-all",children:o.jsx(co,{className:"w-8 h-8 text-white drop-shadow-md"})}),o.jsx("button",{onClick:()=>ht(j.id),className:"absolute top-2 right-2 p-1 bg-white/90 text-red-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",children:o.jsx(xs,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-2",children:[o.jsx("p",{className:"text-xs font-bold text-gray-700 truncate",children:j.title}),o.jsx("p",{className:"text-[10px] text-gray-400",children:j.date})]})]},j.id)),pn.length>6&&o.jsxs("div",{className:"flex items-center justify-center text-xs font-bold text-gray-400",children:["+",pn.length-6," autres..."]})]})]}),o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:()=>D(!0),disabled:s||a,className:"flex-1 py-4 bg-white border border-brand-200 hover:border-bac-blue text-brand-700 hover:text-bac-blue rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 transition-all font-bold disabled:opacity-50",children:[o.jsx(Hu,{className:"w-6 h-6"}),"Nouveau Dossier"]})}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Kr,{className:"w-5 h-5 text-bac-blue"}),"Importer du contenu (Vrac)"]}),o.jsxs("div",{onDragOver:po,onDragLeave:mo,onDrop:go,onClick:()=>{var j;return(j=ne.current)==null?void 0:j.click()},className:`
                        border-2 border-dashed rounded-xl p-10 text-center cursor-pointer transition-all duration-200 relative
                        ${w?"border-bac-blue bg-blue-50/50 scale-[1.01]":"border-gray-300 hover:border-bac-blue hover:bg-gray-50"}
                    `,children:[a&&o.jsxs("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm z-10 flex flex-col items-center justify-center",children:[o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin"}),o.jsx("span",{className:"text-bac-blue font-bold mt-2",children:"Traitement en cours..."})]}),o.jsx("input",{type:"file",ref:ne,multiple:!0,className:"hidden",onChange:xo,disabled:a}),o.jsx("div",{className:"w-16 h-16 bg-blue-100 text-bac-blue rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(zi,{className:"w-8 h-8"})}),o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Cliquez ou glissez vos fichiers ici"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Supporte: PDF, MP4, JPG, PNG (Max 50MB)"})]})]}),h.length>0&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Vu,{className:"w-5 h-5 text-emerald-500"}),"Prt  publier (",h.length,")"]}),o.jsx("button",{onClick:()=>v([]),disabled:a,className:"text-xs text-red-500 hover:text-red-700 font-medium",children:"Tout effacer"})]}),o.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar mb-4",children:h.map((j,U)=>o.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 border border-gray-200 p-3 rounded-xl group hover:border-bac-blue/30 transition-all",children:[o.jsx("div",{className:"shrink-0",children:Ve({type:_t(j)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-bold text-gray-800 text-sm truncate",children:j.name}),o.jsx("p",{className:"text-xs text-gray-500",children:jt(j.size)})]}),o.jsx("button",{onClick:()=>q(U),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(tt,{className:"w-5 h-5"})})]},U))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[o.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Destination (Dossier/Cours)"}),o.jsxs("select",{value:p,onChange:j=>m(j.target.value),className:"w-full bg-gray-100 border-none font-bold text-gray-800 rounded-lg px-3 py-2 mt-1 focus:ring-2 focus:ring-bac-blue cursor-pointer",children:[o.jsx("option",{value:"",children:"-- Racine (Aucun dossier) --"}),yr.map(j=>o.jsxs("option",{value:j.id,children:["[",j.category,"] ",j.title]},j.id))]})]}),!p&&o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Section cible"}),o.jsxs("select",{value:b,onChange:j=>y(j.target.value),className:"w-full bg-gray-100 border-none font-bold text-gray-800 rounded-lg px-3 py-2 mt-1 focus:ring-2 focus:ring-bac-blue cursor-pointer",children:[o.jsx("option",{value:"COURS",children:"Cours"}),o.jsx("option",{value:"SERIES",children:"Sries"}),o.jsx("option",{value:"DEVOIRS",children:"Devoirs"}),o.jsx("option",{value:"SUJETS_BAC",children:"Sujets Bac"})]})]}),o.jsxs("div",{className:p?"col-span-1 md:col-span-2":"",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description (Optionnel)"}),o.jsx("input",{type:"text",value:C,onChange:j=>g(j.target.value),placeholder:"Ex: Chapitre 1 - Mcanique",className:"w-full bg-gray-100 border-none text-gray-800 rounded-lg px-3 py-2 mt-1 focus:ring-2 focus:ring-bac-blue"})]})]}),o.jsxs("button",{onClick:zt,disabled:a,className:"w-full mt-6 px-6 py-3 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-bold shadow-lg shadow-bac-blue/20 transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[a?o.jsx(ie,{className:"w-5 h-5 animate-spin"}):o.jsx(Kr,{className:"w-5 h-5"}),"Publier ",h.length," Fichier(s)"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm",children:[o.jsx(Bx,{className:"w-5 h-5 text-purple-500 mb-2"}),o.jsx("div",{className:"text-2xl font-black text-gray-900",children:s?"...":"0"}),o.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Vues ce mois"})]}),o.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm",children:[o.jsx(gs,{className:"w-5 h-5 text-red-500 mb-2"}),o.jsx("div",{className:"text-2xl font-black text-gray-900",children:s?"...":n.length}),o.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Ressources"})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 flex flex-col h-[600px]",children:[o.jsxs("div",{className:"p-5 border-b border-gray-100",children:[o.jsx("h2",{className:"font-bold text-gray-900 mb-4",children:"Gestion des Ressources"}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["ALL","COURS","SERIES","DEVOIRS","SUJETS_BAC"].map(j=>o.jsx("button",{onClick:()=>X(j),className:`px-3 py-1 text-xs font-bold rounded-full border transition-all whitespace-nowrap ${B===j?"bg-bac-blue text-white border-bac-blue":"bg-white text-gray-500 border-gray-200 hover:bg-gray-50"}`,children:j==="ALL"?"Tout":j==="SUJETS_BAC"?"Bac":j},j))})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar relative",children:[s&&o.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center z-10",children:o.jsx(ie,{className:"w-8 h-8 text-bac-blue animate-spin"})}),!s&&St.map(j=>o.jsxs("div",{className:"group flex items-center justify-between p-3 hover:bg-gray-50 rounded-xl transition-colors cursor-default",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[o.jsx("div",{className:`p-2 rounded-lg shrink-0 overflow-hidden relative ${j.type==="FOLDER"?"bg-yellow-50 text-yellow-500":j.type==="PDF"?"bg-red-50 text-red-500":j.type==="VIDEO"?"bg-purple-50 text-purple-500":"bg-blue-50 text-blue-500"}`,children:j.type==="FOLDER"&&j.url?o.jsx("img",{src:j.url,alt:"",className:"w-8 h-8 object-cover rounded"}):Ve(j)}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-bold text-gray-700 truncate",children:j.title}),o.jsxs("p",{className:"text-[10px] text-gray-400",children:[o.jsx("span",{className:"uppercase font-bold text-gray-500 mr-1",children:j.category||"Gnral"})," ",j.parentId?"Sous-dossier":"Racine"]})]})]}),o.jsx("button",{onClick:()=>ht(j.id),disabled:a,className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:o.jsx(xs,{className:"w-4 h-4"})})]},j.id)),!s&&St.length===0&&o.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"Aucun lment dans cette section."})]})]})]})]}),k&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-900/50 backdrop-blur-sm p-4 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl border border-brand-100 overflow-hidden flex flex-col max-h-[80vh]",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-brand-900",children:"Liste des Inscrits"}),o.jsx("p",{className:"text-sm text-brand-500",children:"Tous les comptes tudiants enregistrs."})]}),o.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:o.jsx(tt,{className:"w-5 h-5 text-brand-500"})})]}),o.jsx("div",{className:"p-0 overflow-y-auto",children:d.length===0?o.jsx("div",{className:"p-10 text-center text-gray-500",children:"Aucun lve inscrit pour le moment."}):d.map((j,U)=>o.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-50 last:border-0 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-bac-blue text-white flex items-center justify-center font-bold text-lg",children:j.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-brand-900 text-lg",children:j.name}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-brand-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(hc,{className:"w-3 h-3"}),j.email]}),j.date&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ah,{className:"w-3 h-3"}),j.date]})]})]})]})},U))})]})}),E&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-900/50 backdrop-blur-sm p-4 animate-[fadeIn_0.2s_ease-out]",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl border border-brand-100 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-brand-900 flex items-center gap-2",children:[o.jsx(Hu,{className:"w-6 h-6 text-bac-blue"}),"Nouveau Dossier"]}),o.jsx("button",{onClick:()=>D(!1),children:o.jsx(tt,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("form",{onSubmit:Ft,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Nom du dossier"}),o.jsx("input",{type:"text",required:!0,value:M,onChange:j=>H(j.target.value),placeholder:"Ex: Thermodynamique Chap. 1",className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue",disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Description"}),o.jsx("textarea",{value:Q,onChange:j=>S(j.target.value),placeholder:"Brve description...",className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue h-20 resize-none",disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Image de couverture (Optionnel)"}),o.jsxs("div",{onClick:()=>{var j;return(j=Ct.current)==null?void 0:j.click()},className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-bac-blue hover:bg-blue-50 transition-colors relative overflow-hidden",children:[ce?o.jsx("img",{src:ce,alt:"Cover",className:"absolute inset-0 w-full h-full object-cover"}):o.jsxs(o.Fragment,{children:[o.jsx(Fi,{className:"w-6 h-6 text-gray-400 mb-1"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Cliquez pour ajouter"})]}),o.jsx("input",{type:"file",ref:Ct,onChange:z,accept:"image/*",className:"hidden"})]}),ce&&o.jsx("button",{type:"button",onClick:()=>A(ce),className:"text-xs text-bac-blue font-bold mt-1 hover:underline",children:"Ajuster l'image"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Emplacement / Catgorie"}),o.jsxs("select",{value:F,onChange:j=>J(j.target.value),className:"w-full bg-gray-50 border border-brand-200 rounded-xl px-4 py-2 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue",disabled:a,children:[o.jsx("option",{value:"COURS",children:"Cours"}),o.jsx("option",{value:"SERIES",children:"Sries"}),o.jsx("option",{value:"DEVOIRS",children:"Devoirs"})]})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-bac-blue text-white rounded-xl font-bold mt-4 flex justify-center disabled:opacity-70",children:a?o.jsx(ie,{className:"w-5 h-5 animate-spin"}):"Crer le dossier"})]})]})}),T&&o.jsx(nm,{imageSrc:T,onCancel:()=>A(null),onCrop:I,aspectRatio:16/9})]})},qv=({isOpen:e,onClose:t,onLogin:n})=>{const[r,s]=x.useState(!1),[i,a]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(null),[v,b]=x.useState(!1);if(!e)return null;const y=async g=>{if(g.preventDefault(),h(null),!l||!u){h("Veuillez remplir tous les champs.");return}if(r&&!i){h("Veuillez entrer votre nom.");return}b(!0);try{let p;r?p=await K.register(i,l,u):p=await K.login(l,u),n(p),t(),C()}catch(p){h(p.message||"Une erreur est survenue.")}finally{b(!1)}},C=()=>{a(""),c(""),d(""),h(null),b(!1)};return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-900/60 backdrop-blur-sm cursor-pointer",onClick:v?void 0:t}),o.jsxs("div",{className:"relative w-full max-w-4xl bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row border border-brand-100 z-10 animate-[fadeIn_0.3s_ease-out]",children:[o.jsx("button",{onClick:t,disabled:v,className:"absolute top-4 right-4 z-[110] p-2 bg-gray-100 hover:bg-gray-200 rounded-full text-gray-500 transition-colors disabled:opacity-50 shadow-sm cursor-pointer",type:"button","aria-label":"Fermer",children:o.jsx(tt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"hidden md:flex md:w-1/2 bg-gradient-to-br from-bac-blue to-sky-600 p-10 flex-col justify-between text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[o.jsx("div",{className:"bg-white/20 px-2 py-1 rounded text-sm font-bold backdrop-blur-md",children:"BAC"}),o.jsx("span",{className:"font-bold text-2xl font-serif",children:"PhysiqueChimie.tn"})]}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:r?"Rejoignez l'lite.":"Bon retour."}),o.jsx("p",{className:"text-white/90 text-lg leading-relaxed",children:"Accdez aux ressources exclusives, aux vidos et au laboratoire en direct."})]}),o.jsx("div",{className:"relative z-10 space-y-4",children:o.jsxs("div",{className:"flex items-center gap-4 bg-white/10 p-4 rounded-xl backdrop-blur-md border border-white/10",children:[o.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:o.jsx(ms,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Bibliothque"}),o.jsx("p",{className:"text-sm text-white/80",children:"Cours et PDFs gratuits."})]})]})})]}),o.jsxs("div",{className:"w-full md:w-1/2 p-8 md:p-10 flex flex-col justify-center bg-white",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-brand-900 mb-2",children:r?"Crer un compte":"Connexion requise"}),o.jsx("p",{className:"text-brand-500 text-sm",children:r?"Remplissez vos informations pour commencer.":"Connectez-vous pour accder  ce contenu."})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-brand-50 rounded-xl mb-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-white text-bac-blue flex items-center justify-center shadow-sm",children:o.jsx(fc,{className:"w-5 h-5"})}),o.jsx("span",{className:"text-sm font-bold text-brand-700",children:"Espace tudiant"})]}),f&&o.jsxs("div",{className:"p-3 bg-red-50 text-red-600 text-xs font-bold rounded-lg border border-red-100 flex items-center gap-2 animate-pulse",children:[o.jsx(uc,{className:"w-4 h-4"}),f]}),r&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-brand-600 uppercase tracking-wide",children:"Nom complet"}),o.jsxs("div",{className:"relative",children:[o.jsx(Wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-brand-400"}),o.jsx("input",{type:"text",maxLength:20,className:"w-full bg-brand-50 border border-brand-200 rounded-xl py-2.5 pl-9 pr-4 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue transition-all placeholder-brand-300 text-sm",placeholder:"Votre nom",value:i,onChange:g=>a(g.target.value),disabled:v})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-brand-600 uppercase tracking-wide",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(hc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-brand-400"}),o.jsx("input",{type:"email",maxLength:50,className:"w-full bg-brand-50 border border-brand-200 rounded-xl py-2.5 pl-9 pr-4 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue transition-all placeholder-brand-300 text-sm",placeholder:"exemple@physique.tn",value:l,onChange:g=>c(g.target.value),disabled:v})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-brand-600 uppercase tracking-wide",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(lo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-brand-400"}),o.jsx("input",{type:"password",maxLength:50,className:"w-full bg-brand-50 border border-brand-200 rounded-xl py-2.5 pl-9 pr-4 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue transition-all placeholder-brand-300 text-sm",placeholder:"",value:u,onChange:g=>d(g.target.value),disabled:v})]})]}),o.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-bold text-base shadow-lg shadow-bac-blue/25 transition-all hover:-translate-y-0.5 flex items-center justify-center gap-2 mt-2 disabled:opacity-70 disabled:cursor-not-allowed",children:v?o.jsxs(o.Fragment,{children:[o.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Traitement..."]}):o.jsxs(o.Fragment,{children:[r?"S'inscrire":"Se connecter",o.jsx(Qa,{className:"w-4 h-4"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-brand-500 text-xs",children:[r?"Dj membre ?":"Pas de compte ?",o.jsx("button",{onClick:()=>{s(!r),h(null)},disabled:v,className:"ml-2 text-bac-blue hover:text-sky-700 font-bold hover:underline disabled:opacity-50",children:r?"Connectez-vous":"Inscrivez-vous"})]})})]})]})]})},Wv=({isOpen:e,onClose:t,onLogin:n})=>{const[r,s]=x.useState(""),[i,a]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(!1);if(!e)return null;const f=async h=>{h.preventDefault(),d(!0),c("");try{const v=await K.login(r,i);if(v.role!=="TEACHER")throw new Error("Accs non autoris.");n(v),t(),s(""),a("")}catch{c("Identifiants incorrects.")}finally{d(!1)}};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-900/60 backdrop-blur-sm",onClick:u?void 0:t}),o.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden z-10 animate-[fadeIn_0.3s_ease-out] border border-brand-100",children:[o.jsx("button",{onClick:t,disabled:u,className:"absolute top-4 right-4 z-20 p-2 text-brand-400 hover:text-brand-600 hover:bg-brand-50 rounded-full transition-colors disabled:opacity-50",children:o.jsx(tt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-bac-blue/10 rounded-full flex items-center justify-center mb-4 text-bac-blue",children:o.jsx(mc,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-2xl font-bold text-brand-900",children:"Espace Enseignant"}),o.jsx("p",{className:"text-brand-500 text-sm",children:"Accs scuris"})]}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l&&o.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 text-center animate-pulse",children:l}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-brand-600 uppercase tracking-wide",children:"Nom d'utilisateur"}),o.jsxs("div",{className:"relative",children:[o.jsx(Wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-brand-400"}),o.jsx("input",{type:"text",required:!0,className:"w-full bg-brand-50 border border-brand-200 rounded-xl py-2.5 pl-9 pr-4 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue transition-all",placeholder:"Ex: admin",value:r,onChange:h=>s(h.target.value),disabled:u})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-brand-600 uppercase tracking-wide",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(lo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-brand-400"}),o.jsx("input",{type:"password",required:!0,className:"w-full bg-brand-50 border border-brand-200 rounded-xl py-2.5 pl-9 pr-4 text-brand-900 focus:outline-none focus:border-bac-blue focus:ring-1 focus:ring-bac-blue transition-all",placeholder:"",value:i,onChange:h=>a(h.target.value),disabled:u})]})]}),o.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-bac-blue hover:bg-sky-700 text-white rounded-xl font-bold text-base shadow-lg shadow-bac-blue/25 transition-all hover:-translate-y-0.5 mt-4 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:u?o.jsxs(o.Fragment,{children:[o.jsx(ie,{className:"w-5 h-5 animate-spin"}),"Connexion..."]}):"Accder au Tableau de Bord"})]})]})]})]})},Kv=()=>{const[e,t]=x.useState(!1),n=x.useRef(null);x.useEffect(()=>{const s=new Audio("https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lo-fi-chill-medium-version-120935.mp3");return s.loop=!0,s.volume=.4,n.current=s,(async()=>{try{await s.play(),t(!0)}catch{console.log("Autoplay blocked"),t(!1)}})(),()=>{s.pause(),n.current=null}},[]);const r=()=>{n.current&&(e?(n.current.pause(),t(!1)):(n.current.play().catch(s=>console.error("Play failed",s)),t(!0)))};return o.jsxs("div",{className:"fixed bottom-6 left-6 z-[60] flex flex-col items-center gap-2 animate-[fadeIn_1s_ease-out]",children:[o.jsxs("button",{onClick:r,className:`
                    group relative flex items-center justify-center w-14 h-14 rounded-full shadow-2xl transition-all duration-500
                    ${e?"bg-white border-2 border-bac-blue/20 scale-105":"bg-white/90 backdrop-blur-md border border-brand-200 hover:scale-105"}
                `,title:e?"Dsactiver la musique":"Activer l'ambiance zen",children:[e&&o.jsx("span",{className:"absolute inset-0 rounded-full animate-ping bg-bac-blue/10 duration-[2s]"}),e?o.jsxs("div",{className:"flex gap-1 items-end h-5 mb-1 justify-center w-6",children:[o.jsx("span",{className:"w-1 bg-bac-blue rounded-t-full animate-[music-bar_0.6s_ease-in-out_infinite]"}),o.jsx("span",{className:"w-1 bg-bac-blue rounded-t-full animate-[music-bar_0.8s_ease-in-out_infinite_0.1s]"}),o.jsx("span",{className:"w-1 bg-bac-blue rounded-t-full animate-[music-bar_0.5s_ease-in-out_infinite_0.2s]"}),o.jsx("span",{className:"w-1 bg-bac-blue rounded-t-full animate-[music-bar_0.7s_ease-in-out_infinite_0.3s]"})]}):o.jsxs("div",{className:"relative",children:[o.jsx(sy,{className:"w-6 h-6 text-brand-400 group-hover:text-bac-blue transition-colors"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-brand-300 rounded-full group-hover:bg-bac-blue transition-colors"})]})]}),o.jsxs("div",{className:`
                absolute left-full ml-4 top-1/2 -translate-y-1/2 px-3 py-1.5 bg-brand-900/90 backdrop-blur text-white text-xs font-bold rounded-xl 
                transition-all duration-300 pointer-events-none whitespace-nowrap
                ${e?"opacity-0 group-hover:opacity-100 translate-x-0":"opacity-100 translate-x-0"}
            `,children:[e?"Pause":"Mode Zen ",o.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 border-4 border-transparent border-r-brand-900/90"})]}),o.jsx("style",{children:`
                @keyframes music-bar {
                    0%, 100% { height: 20%; }
                    50% { height: 100%; }
                }
            `})]})},gt=rr("/",{withCredentials:!0,autoConnect:!0}),Qv=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[s,i]=x.useState(!1),[a,l]=x.useState(!1),[c,u]=x.useState(!1);x.useEffect(()=>{(async()=>{r(!0);const C=await K.getMe();t(C),r(!1),C&&gt.disconnected&&gt.connect()})()},[]),x.useEffect(()=>(gt.on("status-update",y=>{u(y)}),()=>{gt.off("status-update")}),[]);const d=y=>{t(y),gt.disconnect(),gt.connect()},f=async()=>{await K.logout(),t(null),gt.disconnect()},h=()=>{i(!0)},v=()=>{l(!0)},b=y=>{u(y),gt.emit("set-live-status",y)};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-50",children:o.jsx(ie,{className:"w-10 h-10 text-bac-blue animate-spin"})}):o.jsxs(Tx,{children:[o.jsx(gy,{user:e,onLogout:f,onLoginRequest:h,onAdminRequest:v,isLiveActive:c,children:o.jsxs(kx,{children:[o.jsx(it,{path:"/",element:o.jsx(yy,{user:e,onRequireAuth:h})}),o.jsx(it,{path:"/courses",element:o.jsx(vy,{user:e,onRequireAuth:h})}),o.jsx(it,{path:"/resources",element:o.jsx(Fv,{user:e,onRequireAuth:h})}),o.jsx(it,{path:"/sujets-bac",element:o.jsx(Bv,{user:e,onRequireAuth:h})}),o.jsx(it,{path:"/videos",element:o.jsx($v,{user:e,onRequireAuth:h})}),o.jsx(it,{path:"/forum",element:o.jsx(Uv,{user:e,onRequireAuth:h})}),o.jsx(it,{path:"/live",element:o.jsx(zv,{user:e,onRequireAuth:h,setLiveStatus:b})}),o.jsx(it,{path:"/daily-science",element:o.jsx(Vv,{})}),o.jsx(it,{path:"/dashboard",element:(e==null?void 0:e.role)==="TEACHER"?o.jsx(Hv,{user:e,onRequireAuth:h}):o.jsx(Bu,{to:"/",replace:!0})}),o.jsx(it,{path:"*",element:o.jsx(Bu,{to:"/",replace:!0})})]})}),o.jsx(Kv,{}),o.jsx(qv,{isOpen:s,onClose:()=>i(!1),onLogin:d}),o.jsx(Wv,{isOpen:a,onClose:()=>l(!1),onLogin:d})]})},rm=document.getElementById("root");if(!rm)throw new Error("Could not find root element to mount to");const Gv=Yo.createRoot(rm);Gv.render(o.jsx(wd.StrictMode,{children:o.jsx(Qv,{})}));
